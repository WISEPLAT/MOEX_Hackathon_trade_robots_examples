!function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./src/core/Chart"),i=e("./src/panel/TimePanel"),o=e("./src/panel/TimeValuePanel"),a=e("./src/panel/TimeLabelsPanel"),s=e("./src/layer/CandleLayer"),u=e("./src/layer/OHLCLayer"),l=e("./src/layer/ValueGridLayer"),c=e("./src/layer/TimeGridLayer"),h=e("./src/layer/indicator/VolumeLayer"),f=e("./src/layer/indicator/SimpleMovingAverageLayer"),d=e("./src/layer/indicator/ExponentialMovingAverageLayer"),p=e("./src/layer/indicator/VolumeProfileLayer"),y=e("./src/layer/indicator/RSILayer"),m=e("./src/layer/indicator/BollingerBandsLayer"),g=e("./src/layer/indicator/StochasticLayer"),_={core:{Chart:r},panel:{TimePanel:i,TimeValuePanel:o,TimeLabelsPanel:a},layer:{CandleLayer:s,OHLCLayer:u,ValueGridLayer:l,TimeGridLayer:c,indicator:{VolumeLayer:h,SimpleMovingAverageLayer:f,ExponentialMovingAverageLayer:d,VolumeProfileLayer:p,RSILayer:y,StochasticLayer:g,BollingerBandsLayer:m}}};t.exports=_,window.DojiChart=_},{"./src/core/Chart":7,"./src/layer/CandleLayer":23,"./src/layer/OHLCLayer":25,"./src/layer/TimeGridLayer":26,"./src/layer/ValueGridLayer":28,"./src/layer/indicator/BollingerBandsLayer":29,"./src/layer/indicator/ExponentialMovingAverageLayer":30,"./src/layer/indicator/RSILayer":31,"./src/layer/indicator/SimpleMovingAverageLayer":32,"./src/layer/indicator/StochasticLayer":33,"./src/layer/indicator/VolumeLayer":34,"./src/layer/indicator/VolumeProfileLayer":35,"./src/panel/TimeLabelsPanel":37,"./src/panel/TimePanel":38,"./src/panel/TimeValuePanel":39}],2:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;u<r;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),u=1;u<r;u++)o[u-1]=arguments[u];for(l=n.slice(),r=l.length,u=0;u<r;u++)l[u].apply(this,o)}return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?i(e._events[t])?1:e._events[t].length:0}},{}],3:[function(e,t,n){(function(e,t){function r(e,t){return e-t}function i(e){if(this._config={store_data:!0},e)for(var t in o)e.hasOwnProperty(t)&&o[t](this,e[t]);return this.reset(),this}var o={bucket_precision:function(e,t){if("number"!=typeof t||t<=0)throw new Error("bucket_precision must be a positive number");e._config.bucket_precision=t,e.buckets=[]},buckets:function(e,t){if(!Array.isArray(t)||0==t.length)throw new Error("buckets must be an array of bucket limits");e._config.buckets=t,e.buckets=[]},bucket_extension_interval:function(e,t){if(void 0!==t){if("number"!=typeof t||t<=0)throw new Error("bucket_extension_interval must be a positive number");e._config.bucket_extension_interval=t}},store_data:function(e,t){if("boolean"!=typeof t)throw new Error("store_data must be a true or false");e._config.store_data=t},sampling:function(e,t){if("boolean"!=typeof t)throw new Error("sampling must be a true or false");e._config.sampling=t}};if(i.prototype={reset:function(){return this._config.store_data&&(this.data=[]),this.length=0,this.sum=0,this.sum_of_squares=0,this.sum_of_logs=0,this.sum_of_square_of_logs=0,this.zeroes=0,this.max=this.min=null,this._reset_cache(),this},_reset_cache:function(){this._stddev=null,this._config.store_data&&(this._data_sorted=null)},_find_bucket:function(e){var t,n,r=0;if(this._config.buckets)for(n=this._config.buckets.length,this._config.bucket_extension_interval&&e>=this._config.buckets[n-1]&&(t=e-this._config.buckets[n-1],r=parseInt(t/this._config.bucket_extension_interval)+n,void 0===this._config.buckets[r]&&(this._config.buckets[r]=this._config.buckets[n-1]+(parseInt(t/this._config.bucket_extension_interval)+1)*this._config.bucket_extension_interval),void 0===this._config.buckets[r-1]&&(this._config.buckets[r-1]=this._config.buckets[n-1]+parseInt(t/this._config.bucket_extension_interval)*this._config.bucket_extension_interval));r<n&&!(e<this._config.buckets[r]);r++);else this._config.bucket_precision&&(r=Math.floor(e/this._config.bucket_precision));return r},_add_cache:function(e){var t,n=[1];if(e instanceof Array&&(n=e,e=n.shift()),this.sum+=e*n[0],this.sum_of_squares+=e*e*n[0],0===e?this.zeroes++:(this.sum_of_logs+=Math.log(e)*n[0],this.sum_of_square_of_logs+=Math.pow(Math.log(e),2)*n[0]),this.length+=n[0],n[0]>0&&((null===this.max||this.max<e)&&(this.max=e),(null===this.min||this.min>e)&&(this.min=e)),this.buckets){var r=this._find_bucket(e);for(this.buckets[r]||(this.buckets[r]=[0]),this.buckets[r][0]+=n.shift(),t=0;t<n.length;t++)this.buckets[r][t+1]=(0|this.buckets[r][t+1])+(0|n[t])}this._reset_cache()},_del_cache:function(e){var t,n=[1];if(e instanceof Array&&(n=e,e=n.shift()),this.sum-=e*n[0],this.sum_of_squares-=e*e*n[0],0===e?this.zeroes--:(this.sum_of_logs-=Math.log(e)*n[0],this.sum_of_square_of_logs-=Math.pow(Math.log(e),2)*n[0]),this.length-=n[0],this._config.store_data)if(0===this.length&&(this.max=this.min=null),1===this.length)this.max=this.min=this.data[0];else if(n[0]>0&&(this.max===e||this.min===e)){var t=this.length-1;if(t>=0)for(this.max=this.min=this.data[t--];t-- >=0;)this.max<this.data[t]&&(this.max=this.data[t]),this.min>this.data[t]&&(this.min=this.data[t])}if(this.buckets){var r=this._find_bucket(e);if(this.buckets[r])if(this.buckets[r][0]-=n.shift(),0===this.buckets[r][0])delete this.buckets[r];else for(t=0;t<n.length;t++)this.buckets[r][t+1]=(0|this.buckets[r][t+1])-(0|n[t])}this._reset_cache()},push:function(){var e,t,n=Array.prototype.slice.call(arguments,0);for(n.length&&n[0]instanceof Array&&(n=n[0]),e=0;e<n.length;e++)t=n[e],this._config.store_data&&this.data.push(t),this._add_cache(t);return this},push_tuple:function(e){if(!this.buckets)throw new Error("push_tuple is only valid when using buckets");this._add_cache(e)},pop:function(){if(0!==this.length&&this._config.store_data!==!1){var e=this.data.pop();return this._del_cache(e),e}},remove_tuple:function(e){if(!this.buckets)throw new Error("remove_tuple is only valid when using buckets");this._del_cache(e)},reset_tuples:function(e){var t,n,r,i=e.length;if(!this.buckets)throw new Error("reset_tuple is only valid when using buckets");for(t=0,n=this.buckets.length;t<n;t++)if(this.buckets[t]&&!(this.buckets[t].length<=1))for(r=0;r<i;r++)"undefined"!=typeof e[r]&&(this.buckets[t][r]=e[r])},unshift:function(){var e,t,n=Array.prototype.slice.call(arguments,0);for(n.length&&n[0]instanceof Array&&(n=n[0]),e=n.length;e--;)t=n[e],this._config.store_data&&this.data.unshift(t),this._add_cache(t);return this},shift:function(){if(0!==this.length&&this._config.store_data!==!1){var e=this.data.shift();return this._del_cache(e),e}},amean:function(){return 0===this.length?NaN:this.sum/this.length},gmean:function(){return 0===this.length?NaN:this.zeroes>0?NaN:Math.exp(this.sum_of_logs/this.length)},stddev:function(){if(0===this.length)return NaN;var e=this.length;return this._config.sampling&&e--,null===this._stddev&&(this._stddev=Math.sqrt((this.length*this.sum_of_squares-this.sum*this.sum)/(this.length*e))),this._stddev},gstddev:function(){if(0===this.length)return NaN;if(this.zeroes>0)return NaN;var e=this.length;return this._config.sampling&&e--,Math.exp(Math.sqrt((this.length*this.sum_of_square_of_logs-this.sum_of_logs*this.sum_of_logs)/(this.length*e)))},moe:function(){return 0===this.length?NaN:1.96*this.stddev()/Math.sqrt(this.length)},range:function(){return 0===this.length?[NaN,NaN]:[this.min,this.max]},distribution:function(){if(0===this.length)return[];if(!this.buckets)throw new Error("bucket_precision or buckets not configured.");var e,t,n,r=[];if(this._config.buckets){for(t=this.min,n=Math.min(this.buckets.length,this._config.buckets.length),e=0;e<n&&(void 0===this._config.buckets[e]&&this._config.bucket_extension_interval&&(this._config.buckets[e]=this._config.buckets[e-1]+this._config.bucket_extension_interval),this.min>this._config.buckets[e]||(r[e]={bucket:(t+this._config.buckets[e])/2,range:[t,this._config.buckets[e]],count:this.buckets[e]?this.buckets[e][0]:0,tuple:this.buckets[e]?this.buckets[e].slice(1):[]},!(this.max<this._config.buckets[e])));t=this._config.buckets[e++]);e==n&&this.buckets[e]&&(r[e]={bucket:(t+this.max)/2,range:[t,this.max],count:this.buckets[e][0],tuple:this.buckets[e]?this.buckets[e].slice(1):[]})}else if(this._config.bucket_precision)for(e=Math.floor(this.min/this._config.bucket_precision),n=Math.floor(this.max/this._config.bucket_precision)+1,t=0;e<n&&e<this.buckets.length;e++,t++)this.buckets[e]&&(r[t]={bucket:(e+.5)*this._config.bucket_precision,range:[e*this._config.bucket_precision,(e+1)*this._config.bucket_precision],count:this.buckets[e][0],tuple:this.buckets[e]?this.buckets[e].slice(1):[]});return r},percentile:function(e){if(0===this.length||!this._config.store_data&&!this.buckets)return NaN;var t;if(t=e<=0?0:25==e?[Math.floor(.25*(this.length-1)),Math.ceil(.25*(this.length-1))]:50==e?[Math.floor(.5*(this.length-1)),Math.ceil(.5*(this.length-1))]:75==e?[Math.floor(.75*(this.length-1)),Math.ceil(.75*(this.length-1))]:e>=100?this.length-1:Math.floor(this.length*e/100),0===t)return this.min;if(t===this.length-1)return this.max;if(this._config.store_data)return null===this._data_sorted&&(this._data_sorted=this.data.slice(0).sort(r)),"number"==typeof t?this._data_sorted[t]:(this._data_sorted[t[0]]+this._data_sorted[t[1]])/2;var n;for("number"!=typeof t&&(t=(t[0]+t[1])/2),this._config.buckets?n=0:this._config.bucket_precision&&(n=Math.floor(this.min/this._config.bucket_precision));n<this.buckets.length;n++)if(this.buckets[n]){if(t<=this.buckets[n][0])break;t-=this.buckets[n][0]}return this._get_nth_in_bucket(t,n)},_get_nth_in_bucket:function(e,t){var n=[];return this._config.buckets?(n[0]=t>0?this._config.buckets[t-1]:this.min,n[1]=t<this._config.buckets.length?this._config.buckets[t]:this.max):this._config.bucket_precision&&(n[0]=Math.max(t*this._config.bucket_precision,this.min),n[1]=Math.min((t+1)*this._config.bucket_precision,this.max)),n[0]+(n[1]-n[0])*e/this.buckets[t][0]},median:function(){return this.percentile(50)},iqr:function(){var e,t,n;return e=this.percentile(25),t=this.percentile(75),n=1.5*(t-e),this.band_pass(e-n,t+n,!0)},band_pass:function(e,t,n,o){var a,s,u,l,c;if(o||(o=this._config),u=new i(o),0===this.length)return u;if(this._config.store_data)for(null===this._data_sorted&&(this._data_sorted=this.data.slice(0).sort(r)),a=0;a<this.length&&(this._data_sorted[a]<t||!n&&this._data_sorted[a]===t);a++)(this._data_sorted[a]>e||!n&&this._data_sorted[a]===e)&&u.push(this._data_sorted[a]);else if(this._config.buckets){for(a=0;a<=this._config.buckets.length;a++)if(!(this._config.buckets[a]<this.min)){if(l=0==a?this.min:this._config.buckets[a-1],l<this.min&&(l=this.min),l>this.max&&(l=this.max),t<l||n&&t===l)break;if(e<l||!n&&e===l)for(s=0;s<(this.buckets[a]?this.buckets[a][0]:0);s++)c=i.prototype._get_nth_in_bucket.call(this,s,a),(c>e||!n&&c===e)&&(c<t||!n&&c===t)&&u.push(c)}u.min=Math.max(e,u.min),u.max=Math.min(t,u.max)}else if(this._config.bucket_precision){var h=Math.floor(e/this._config.bucket_precision),f=Math.floor(t/this._config.bucket_precision)+1;for(a=h;a<Math.min(this.buckets.length,f);a++)for(s=0;s<(this.buckets[a]?this.buckets[a][0]:0);s++)c=i.prototype._get_nth_in_bucket.call(this,s,a),(c>e||!n&&c===e)&&(c<t||!n&&c===t)&&u.push(c);u.min=Math.max(e,u.min),u.max=Math.min(t,u.max)}return u},copy:function(e){var t=i.prototype.band_pass.call(this,this.min,this.max,!1,e);return t.sum=this.sum,t.sum_of_squares=this.sum_of_squares,t.sum_of_logs=this.sum_of_logs,t.sum_of_square_of_logs=this.sum_of_square_of_logs,t.zeroes=this.zeroes,t},"Σ":function(){return this.sum},"Π":function(){return this.zeroes>0?0:Math.exp(this.sum_of_logs)}},i.prototype.σ=i.prototype.stddev,i.prototype.μ=i.prototype.amean,n.Stats=i,e.argv[1]&&e.argv[1].match(t)){var a=(new i).push(1,2,3),s=e.argv.slice(2);s.length||(s=[10,11,15,8,13,12,19,32,17,16]),s.forEach(function(e,t,n){n[t]=parseFloat(e,10)}),i.prototype.push.apply(a,s),console.log(a.amean().toFixed(2),a.μ().toFixed(2),a.stddev().toFixed(2),a.σ().toFixed(2),a.gmean().toFixed(2),a.median().toFixed(2),a.moe().toFixed(2))}}).call(this,e("g5I+bs"),"/node_modules/fast-stats/faststats.js")},{"g5I+bs":5}],4:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?t.exports=r():"function"==typeof define&&define.amd?define(r):e.moment=r()}(this,function(){"use strict";function n(){return ur.apply(null,arguments)}function r(e){ur=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,r){return Re(e,t,n,r,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(e){return null==e._pf&&(e._pf=c()),e._pf}function f(e){if(null==e._isValid){var t=h(e),n=lr.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=l(NaN);return null!=e?u(h(t),e):h(t).userInvalidated=!0,t}function p(e){return void 0===e}function y(e,t){var n,r,i;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=h(t)),p(t._locale)||(e._locale=t._locale),cr.length>0)for(n in cr)r=cr[n],i=t[r],p(i)||(e[r]=i);return e}function m(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),hr===!1&&(hr=!0,n.updateOffset(this),hr=!1)}function g(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e):Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function b(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&v(e[r])!==v(t[r]))&&a++;return a+o}function w(e){n.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var r=!0;return u(function(){return null!=n.deprecationHandler&&n.deprecationHandler(null,e),r&&(w(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),r=!1),t.apply(this,arguments)},t)}function O(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),fr[e]||(w(t),fr[e]=!0)}function x(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e){return"[object Object]"===Object.prototype.toString.call(e)}function P(e){var t,n;for(n in e)t=e[n],x(t)?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function S(e,t){var n,r=u({},e);for(n in t)s(t,n)&&(M(e[n])&&M(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);return r}function C(e){null!=e&&this.set(e)}function T(e){return e?e.toLowerCase().replace("_","-"):e}function j(e){for(var t,n,r,i,o=0;o<e.length;){for(i=T(e[o]).split("-"),t=i.length,n=T(e[o+1]),n=n?n.split("-"):null;t>0;){if(r=D(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&b(i,n,!0)>=t-1)break;t--}o++}return null}function D(n){var r=null;if(!mr[n]&&"undefined"!=typeof t&&t&&t.exports)try{r=pr._abbr,e("./locale/"+n),E(r)}catch(i){}return mr[n]}function E(e,t){var n;return e&&(n=p(t)?W(e):L(e,t),n&&(pr=n)),pr._abbr}function L(e,t){return null!==t?(t.abbr=e,null!=mr[e]?(O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),t=S(mr[e]._config,t)):null!=t.parentLocale&&(null!=mr[t.parentLocale]?t=S(mr[t.parentLocale]._config,t):O("parentLocaleUndefined","specified parentLocale is not defined yet")),mr[e]=new C(t),E(e),mr[e]):(delete mr[e],null)}function Y(e,t){if(null!=t){var n;null!=mr[e]&&(t=S(mr[e]._config,t)),n=new C(t),n.parentLocale=mr[e],mr[e]=n,E(e)}else null!=mr[e]&&(null!=mr[e].parentLocale?mr[e]=mr[e].parentLocale:null!=mr[e]&&delete mr[e]);return mr[e]}function W(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return pr;if(!i(e)){if(t=D(e))return t;e=[e]}return j(e)}function F(){return dr(mr)}function R(e,t){var n=e.toLowerCase();gr[n]=gr[n+"s"]=gr[t]=e}function A(e){return"string"==typeof e?gr[e]||gr[e.toLowerCase()]:void 0}function H(e){var t,n,r={};for(n in e)s(e,n)&&(t=A(n),t&&(r[t]=e[n]));return r}function N(e,t){return function(r){return null!=r?(V(this,e,r),n.updateOffset(this,t),this):B(this,e)}}function B(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function G(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=A(e),x(this[e]))return this[e](t);return this}function I(e,t,n){var r=""+Math.abs(e),i=t-r.length,o=e>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function U(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(wr[e]=i),t&&(wr[t[0]]=function(){return I(i.apply(this,arguments),t[1],t[2])}),n&&(wr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function q(e){var t,n,r=e.match(_r);for(t=0,n=r.length;t<n;t++)wr[r[t]]?r[t]=wr[r[t]]:r[t]=z(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=r[i]instanceof Function?r[i].call(t,e):r[i];return o}}function Z(e,t){return e.isValid()?(t=$(t,e.localeData()),br[t]=br[t]||q(t),br[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(vr.lastIndex=0;r>=0&&vr.test(e);)e=e.replace(vr,n),vr.lastIndex=0,r-=1;return e}function Q(e,t,n){Hr[e]=x(t)?t:function(e,r){return e&&n?n:t}}function J(e,t){return s(Hr,e)?Hr[e](t._strict,t._locale):new RegExp(K(e))}function K(e){return X(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(r=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)Nr[e[n]]=r}function te(e,t){ee(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ne(e,t,n){null!=t&&s(Nr,e)&&Nr[e](t,n._a,n,e)}function re(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ie(e,t){return i(this._months)?this._months[e.month()]:this._months[Qr.test(t)?"format":"standalone"][e.month()]}function oe(e,t){return i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Qr.test(t)?"format":"standalone"][e.month()]}function ae(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=l([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?(i=yr.call(this._shortMonthsParse,a),i!==-1?i:null):(i=yr.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=yr.call(this._shortMonthsParse,a),i!==-1?i:(i=yr.call(this._longMonthsParse,a),i!==-1?i:null)):(i=yr.call(this._longMonthsParse,a),i!==-1?i:(i=yr.call(this._shortMonthsParse,a),i!==-1?i:null))}function se(e,t,n){var r,i,o;if(this._monthsParseExact)return ae.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ue(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return n=Math.min(e.date(),re(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function le(e){return null!=e?(ue(this,e),n.updateOffset(this,!0),this):B(this,"Month")}function ce(){return re(this.year(),this.month())}function he(e){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}function fe(e){return this._monthsParseExact?(s(this,"_monthsRegex")||de.call(this),e?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}function de(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=l([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=X(r[t]),i[t]=X(i[t]),o[t]=X(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function pe(e){var t,n=e._a;return n&&h(e).overflow===-2&&(t=n[Vr]<0||n[Vr]>11?Vr:n[Gr]<1||n[Gr]>re(n[Br],n[Vr])?Gr:n[Ir]<0||n[Ir]>24||24===n[Ir]&&(0!==n[Ur]||0!==n[zr]||0!==n[qr])?Ir:n[Ur]<0||n[Ur]>59?Ur:n[zr]<0||n[zr]>59?zr:n[qr]<0||n[qr]>999?qr:-1,h(e)._overflowDayOfYear&&(t<Br||t>Gr)&&(t=Gr),h(e)._overflowWeeks&&t===-1&&(t=Zr),h(e)._overflowWeekday&&t===-1&&(t=$r),h(e).overflow=t),e}function ye(e){var t,n,r,i,o,a,s=e._i,u=ti.exec(s)||ni.exec(s);if(u){for(h(e).iso=!0,t=0,n=ii.length;t<n;t++)if(ii[t][1].exec(u[1])){i=ii[t][0],r=ii[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=oi.length;t<n;t++)if(oi[t][1].exec(u[3])){o=(u[2]||" ")+oi[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!ri.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),je(e)}else e._isValid=!1}function me(e){var t=ai.exec(e._i);return null!==t?void(e._d=new Date((+t[1]))):(ye(e),void(e._isValid===!1&&(delete e._isValid,n.createFromInputFallback(e))))}function ge(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function _e(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function ve(e){return be(e)?366:365}function be(e){return e%4===0&&e%100!==0||e%400===0}function we(){return be(this.year())}function ke(e,t,n){var r=7+t-n,i=(7+_e(e,0,r).getUTCDay()-t)%7;return-i+r-1}function Oe(e,t,n,r,i){var o,a,s=(7+n-r)%7,u=ke(e,r,i),l=1+7*(t-1)+s+u;return l<=0?(o=e-1,a=ve(o)+l):l>ve(e)?(o=e+1,a=l-ve(e)):(o=e,a=l),{year:o,dayOfYear:a}}function xe(e,t,n){var r,i,o=ke(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?(i=e.year()-1,r=a+Me(i,t,n)):a>Me(e.year(),t,n)?(r=a-Me(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Me(e,t,n){var r=ke(e,t,n),i=ke(e+1,t,n);return(ve(e)-r+i)/7}function Pe(e,t,n){return null!=e?e:null!=t?t:n}function Se(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Ce(e){var t,n,r,i,o=[];if(!e._d){for(r=Se(e),e._w&&null==e._a[Gr]&&null==e._a[Vr]&&Te(e),e._dayOfYear&&(i=Pe(e._a[Br],r[Br]),e._dayOfYear>ve(i)&&(h(e)._overflowDayOfYear=!0),n=_e(i,0,e._dayOfYear),e._a[Vr]=n.getUTCMonth(),e._a[Gr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ir]&&0===e._a[Ur]&&0===e._a[zr]&&0===e._a[qr]&&(e._nextDay=!0,e._a[Ir]=0),e._d=(e._useUTC?_e:ge).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ir]=24)}}function Te(e){var t,n,r,i,o,a,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=Pe(t.GG,e._a[Br],xe(Ae(),1,4).year),r=Pe(t.W,1),i=Pe(t.E,1),(i<1||i>7)&&(u=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=Pe(t.gg,e._a[Br],xe(Ae(),o,a).year),r=Pe(t.w,1),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>Me(n,o,a)?h(e)._overflowWeeks=!0:null!=u?h(e)._overflowWeekday=!0:(s=Oe(n,r,i,o,a),e._a[Br]=s.year,e._dayOfYear=s.dayOfYear)}function je(e){if(e._f===n.ISO_8601)return void ye(e);e._a=[],h(e).empty=!0;var t,r,i,o,a,s=""+e._i,u=s.length,l=0;for(i=$(e._f,e._locale).match(_r)||[],t=0;t<i.length;t++)o=i[t],r=(s.match(J(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),l+=r.length),wr[o]?(r?h(e).empty=!1:h(e).unusedTokens.push(o),ne(o,r,e)):e._strict&&!r&&h(e).unusedTokens.push(o);h(e).charsLeftOver=u-l,s.length>0&&h(e).unusedInput.push(s),h(e).bigHour===!0&&e._a[Ir]<=12&&e._a[Ir]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[Ir]=De(e._locale,e._a[Ir],e._meridiem),Ce(e),pe(e)}function De(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(r=e.isPM(n),r&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Ee(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],je(t),f(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}function Le(e){if(!e._d){var t=H(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Ce(e)}}function Ye(e){var t=new m(pe(We(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function We(e){var t=e._i,n=e._f;return e._locale=e._locale||W(e._l),null===t||void 0===n&&""===t?d({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),g(t)?new m(pe(t)):(i(n)?Ee(e):n?je(e):o(t)?e._d=t:Fe(e),f(e)||(e._d=null),e))}function Fe(e){var t=e._i;void 0===t?e._d=new Date(n.now()):o(t)?e._d=new Date(t.valueOf()):"string"==typeof t?me(e):i(t)?(e._a=a(t.slice(0),function(e){return parseInt(e,10)}),Ce(e)):"object"==typeof t?Le(e):"number"==typeof t?e._d=new Date(t):n.createFromInputFallback(e)}function Re(e,t,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,Ye(o)}function Ae(e,t,n,r){return Re(e,t,n,r,!1)}function He(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Ae();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Ne(){var e=[].slice.call(arguments,0);return He("isBefore",e)}function Be(){var e=[].slice.call(arguments,0);return He("isAfter",e)}function Ve(e){var t=H(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=W(),this._bubble()}function Ge(e){return e instanceof Ve}function Ie(e,t){U(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function Ue(e,t){var n=(t||"").match(e)||[],r=n[n.length-1]||[],i=(r+"").match(hi)||["-",0,0],o=+(60*i[1])+v(i[2]);return"+"===i[0]?o:-o}function ze(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(g(e)||o(e)?e.valueOf():Ae(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Ae(e).local()}function qe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ze(e,t){var r,i=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Ue(Fr,e):Math.abs(e)<16&&(e=60*e),
!this._isUTC&&t&&(r=qe(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?ht(this,ot(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:qe(this):null!=e?this:NaN}function $e(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Qe(e){return this.utcOffset(0,e)}function Je(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(qe(this),"m")),this}function Ke(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ue(Wr,this._i)),this}function Xe(e){return!!this.isValid()&&(e=e?Ae(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function et(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function tt(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=We(e),e._a){var t=e._isUTC?l(e._a):Ae(e._a);this._isDSTShifted=this.isValid()&&b(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function nt(){return!!this.isValid()&&!this._isUTC}function rt(){return!!this.isValid()&&this._isUTC}function it(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function ot(e,t){var n,r,i,o=e,a=null;return Ge(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=fi.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:v(a[Gr])*n,h:v(a[Ir])*n,m:v(a[Ur])*n,s:v(a[zr])*n,ms:v(a[qr])*n}):(a=di.exec(e))?(n="-"===a[1]?-1:1,o={y:at(a[2],n),M:at(a[3],n),w:at(a[4],n),d:at(a[5],n),h:at(a[6],n),m:at(a[7],n),s:at(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=ut(Ae(o.from),Ae(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new Ve(o),Ge(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function at(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function st(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function ut(e,t){var n;return e.isValid()&&t.isValid()?(t=ze(t,e),e.isBefore(t)?n=st(e,t):(n=st(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function lt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function ct(e,t){return function(n,r){var i,o;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=ot(n,r),ht(this,i,e),this}}function ht(e,t,r,i){var o=t._milliseconds,a=lt(t._days),s=lt(t._months);e.isValid()&&(i=null==i||i,o&&e._d.setTime(e._d.valueOf()+o*r),a&&V(e,"Date",B(e,"Date")+a*r),s&&ue(e,B(e,"Month")+s*r),i&&n.updateOffset(e,a||s))}function ft(e,t){var n=e||Ae(),r=ze(n,this).startOf("day"),i=this.diff(r,"days",!0),o=i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse",a=t&&(x(t[o])?t[o]():t[o]);return this.format(a||this.localeData().calendar(o,this,Ae(n)))}function dt(){return new m(this)}function pt(e,t){var n=g(e)?e:Ae(e);return!(!this.isValid()||!n.isValid())&&(t=A(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function yt(e,t){var n=g(e)?e:Ae(e);return!(!this.isValid()||!n.isValid())&&(t=A(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function mt(e,t,n,r){return r=r||"()",("("===r[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))}function gt(e,t){var n,r=g(e)?e:Ae(e);return!(!this.isValid()||!r.isValid())&&(t=A(t||"millisecond"),"millisecond"===t?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function _t(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function bt(e,t,n){var r,i,o,a;return this.isValid()?(r=ze(e,this),r.isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),t=A(t),"year"===t||"month"===t||"quarter"===t?(a=wt(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:_(a)):NaN):NaN}function wt(e,t){var n,r,i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,"months");return t-o<0?(n=e.clone().add(i-1,"months"),r=(t-o)/(o-n)):(n=e.clone().add(i+1,"months"),r=(t-o)/(n-o)),-(i+r)||0}function kt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Ot(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?x(Date.prototype.toISOString)?this.toDate().toISOString():Z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function xt(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=Z(this,e);return this.localeData().postformat(t)}function Mt(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ae(e).isValid())?ot({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Pt(e){return this.from(Ae(),e)}function St(e,t){return this.isValid()&&(g(e)&&e.isValid()||Ae(e).isValid())?ot({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Ct(e){return this.to(Ae(),e)}function Tt(e){var t;return void 0===e?this._locale._abbr:(t=W(e),null!=t&&(this._locale=t),this)}function jt(){return this._locale}function Dt(e){switch(e=A(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Et(e){return e=A(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function Lt(){return this._d.valueOf()-6e4*(this._offset||0)}function Yt(){return Math.floor(this.valueOf()/1e3)}function Wt(){return this._offset?new Date(this.valueOf()):this._d}function Ft(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Rt(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function At(){return this.isValid()?this.toISOString():null}function Ht(){return f(this)}function Nt(){return u({},h(this))}function Bt(){return h(this).overflow}function Vt(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Gt(e,t){U(0,[e,e.length],0,t)}function It(e){return Zt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ut(e){return Zt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function zt(){return Me(this.year(),1,4)}function qt(){var e=this.localeData()._week;return Me(this.year(),e.dow,e.doy)}function Zt(e,t,n,r,i){var o;return null==e?xe(this,r,i).year:(o=Me(e,r,i),t>o&&(t=o),$t.call(this,e,t,n,r,i))}function $t(e,t,n,r,i){var o=Oe(e,t,n,r,i),a=_e(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Qt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Jt(e){return xe(e,this._week.dow,this._week.doy).week}function Kt(){return this._week.dow}function Xt(){return this._week.doy}function en(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function tn(e){var t=xe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function nn(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function rn(e,t){return i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]}function on(e){return this._weekdaysShort[e.day()]}function an(e){return this._weekdaysMin[e.day()]}function sn(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=l([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?(i=yr.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=yr.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=yr.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=yr.call(this._weekdaysParse,a),i!==-1?i:(i=yr.call(this._shortWeekdaysParse,a),i!==-1?i:(i=yr.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=yr.call(this._shortWeekdaysParse,a),i!==-1?i:(i=yr.call(this._weekdaysParse,a),i!==-1?i:(i=yr.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=yr.call(this._minWeekdaysParse,a),i!==-1?i:(i=yr.call(this._weekdaysParse,a),i!==-1?i:(i=yr.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function un(e,t,n){var r,i,o;if(this._weekdaysParseExact)return sn.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=l([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function ln(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=nn(e,this.localeData()),this.add(e-t,"d")):t}function cn(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function hn(e){return this.isValid()?null==e?this.day()||7:this.day(this.day()%7?e:e-7):null!=e?this:NaN}function fn(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||yn.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}function dn(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||yn.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function pn(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||yn.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function yn(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],c=[];for(t=0;t<7;t++)n=l([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),u.sort(e),c.sort(e),t=0;t<7;t++)s[t]=X(s[t]),u[t]=X(u[t]),c[t]=X(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function mn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function gn(){return this.hours()%12||12}function _n(){return this.hours()||24}function vn(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function bn(e,t){return t._meridiemParse}function wn(e){return"p"===(e+"").toLowerCase().charAt(0)}function kn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function On(e,t){t[qr]=v(1e3*("0."+e))}function xn(){return this._isUTC?"UTC":""}function Mn(){return this._isUTC?"Coordinated Universal Time":""}function Pn(e){return Ae(1e3*e)}function Sn(){return Ae.apply(null,arguments).parseZone()}function Cn(e,t,n){var r=this._calendar[e];return x(r)?r.call(t,n):r}function Tn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function jn(){return this._invalidDate}function Dn(e){return this._ordinal.replace("%d",e)}function En(e){return e}function Ln(e,t,n,r){var i=this._relativeTime[n];return x(i)?i(e,t,n,r):i.replace(/%d/i,e)}function Yn(e,t){var n=this._relativeTime[e>0?"future":"past"];return x(n)?n(t):n.replace(/%s/i,t)}function Wn(e,t,n,r){var i=W(),o=l().set(r,t);return i[n](o,e)}function Fn(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Wn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=Wn(e,r,n,"month");return i}function Rn(e,t,n,r){"boolean"==typeof e?("number"==typeof t&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,"number"==typeof t&&(n=t,t=void 0),t=t||"");var i=W(),o=e?i._week.dow:0;if(null!=n)return Wn(t,(n+o)%7,r,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Wn(t,(a+o)%7,r,"day");return s}function An(e,t){return Fn(e,t,"months")}function Hn(e,t){return Fn(e,t,"monthsShort")}function Nn(e,t,n){return Rn(e,t,n,"weekdays")}function Bn(e,t,n){return Rn(e,t,n,"weekdaysShort")}function Vn(e,t,n){return Rn(e,t,n,"weekdaysMin")}function Gn(){var e=this._data;return this._milliseconds=Ni(this._milliseconds),this._days=Ni(this._days),this._months=Ni(this._months),e.milliseconds=Ni(e.milliseconds),e.seconds=Ni(e.seconds),e.minutes=Ni(e.minutes),e.hours=Ni(e.hours),e.months=Ni(e.months),e.years=Ni(e.years),this}function In(e,t,n,r){var i=ot(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Un(e,t){return In(this,e,t,1)}function zn(e,t){return In(this,e,t,-1)}function qn(e){return e<0?Math.floor(e):Math.ceil(e)}function Zn(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*qn(Qn(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=_(o/1e3),u.seconds=e%60,t=_(e/60),u.minutes=t%60,n=_(t/60),u.hours=n%24,a+=_(n/24),i=_($n(a)),s+=i,a-=qn(Qn(i)),r=_(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function $n(e){return 4800*e/146097}function Qn(e){return 146097*e/4800}function Jn(e){var t,n,r=this._milliseconds;if(e=A(e),"month"===e||"year"===e)return t=this._days+r/864e5,n=this._months+$n(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Qn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Kn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)}function Xn(e){return function(){return this.as(e)}}function er(e){return e=A(e),this[e+"s"]()}function tr(e){return function(){return this._data[e]}}function nr(){return _(this.days()/7)}function rr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ir(e,t,n){var r=ot(e).abs(),i=no(r.as("s")),o=no(r.as("m")),a=no(r.as("h")),s=no(r.as("d")),u=no(r.as("M")),l=no(r.as("y")),c=i<ro.s&&["s",i]||o<=1&&["m"]||o<ro.m&&["mm",o]||a<=1&&["h"]||a<ro.h&&["hh",a]||s<=1&&["d"]||s<ro.d&&["dd",s]||u<=1&&["M"]||u<ro.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,rr.apply(null,c)}function or(e,t){return void 0!==ro[e]&&(void 0===t?ro[e]:(ro[e]=t,!0))}function ar(e){var t=this.localeData(),n=ir(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function sr(){var e,t,n,r=io(this._milliseconds)/1e3,i=io(this._days),o=io(this._months);e=_(r/60),t=_(e/60),r%=60,e%=60,n=_(o/12),o%=12;var a=n,s=o,u=i,l=t,c=e,h=r,f=this.asSeconds();return f?(f<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(u?u+"D":"")+(l||c||h?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(h?h+"S":""):"P0D"}var ur,lr;lr=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var cr=n.momentProperties=[],hr=!1,fr={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var dr;dr=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var pr,yr,mr={},gr={},_r=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,vr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,br={},wr={},kr=/\d/,Or=/\d\d/,xr=/\d{3}/,Mr=/\d{4}/,Pr=/[+-]?\d{6}/,Sr=/\d\d?/,Cr=/\d\d\d\d?/,Tr=/\d\d\d\d\d\d?/,jr=/\d{1,3}/,Dr=/\d{1,4}/,Er=/[+-]?\d{1,6}/,Lr=/\d+/,Yr=/[+-]?\d+/,Wr=/Z|[+-]\d\d:?\d\d/gi,Fr=/Z|[+-]\d\d(?::?\d\d)?/gi,Rr=/[+-]?\d+(\.\d{1,3})?/,Ar=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Hr={},Nr={},Br=0,Vr=1,Gr=2,Ir=3,Ur=4,zr=5,qr=6,Zr=7,$r=8;yr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),Q("M",Sr),Q("MM",Sr,Or),Q("MMM",function(e,t){return t.monthsShortRegex(e)}),Q("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Vr]=v(e)-1}),ee(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[Vr]=i:h(n).invalidMonth=e});var Qr=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Jr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Kr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Xr=Ar,ei=Ar,ti=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ni=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ri=/Z|[+-]\d\d(?::?\d\d)?/,ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],oi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ai=/^\/?Date\((\-?\d+)/i;n.createFromInputFallback=k("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),U("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),R("year","y"),Q("Y",Yr),Q("YY",Sr,Or),Q("YYYY",Dr,Mr),Q("YYYYY",Er,Pr),Q("YYYYYY",Er,Pr),ee(["YYYYY","YYYYYY"],Br),ee("YYYY",function(e,t){t[Br]=2===e.length?n.parseTwoDigitYear(e):v(e)}),ee("YY",function(e,t){t[Br]=n.parseTwoDigitYear(e)}),ee("Y",function(e,t){t[Br]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var si=N("FullYear",!0);n.ISO_8601=function(){};var ui=k("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Ae.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()}),li=k("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Ae.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:d()}),ci=function(){return Date.now?Date.now():+new Date};Ie("Z",":"),Ie("ZZ",""),Q("Z",Fr),Q("ZZ",Fr),ee(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ue(Fr,e)});var hi=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var fi=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,di=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;ot.fn=Ve.prototype;var pi=ct(1,"add"),yi=ct(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var mi=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Gt("gggg","weekYear"),Gt("ggggg","weekYear"),Gt("GGGG","isoWeekYear"),Gt("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),Q("G",Yr),Q("g",Yr),Q("GG",Sr,Or),Q("gg",Sr,Or),Q("GGGG",Dr,Mr),Q("gggg",Dr,Mr),Q("GGGGG",Er,Pr),Q("ggggg",Er,Pr),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=v(e)}),te(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),R("quarter","Q"),Q("Q",kr),ee("Q",function(e,t){t[Vr]=3*(v(e)-1)}),U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),Q("w",Sr),Q("ww",Sr,Or),Q("W",Sr),Q("WW",Sr,Or),te(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=v(e)});var gi={dow:0,doy:6};U("D",["DD",2],"Do","date"),R("date","D"),Q("D",Sr),Q("DD",Sr,Or),Q("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Gr),ee("Do",function(e,t){t[Gr]=v(e.match(Sr)[0],10)});var _i=N("Date",!0);U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),Q("d",Sr),Q("e",Sr),Q("E",Sr),Q("dd",function(e,t){return t.weekdaysMinRegex(e)}),Q("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Q("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),te(["d","e","E"],function(e,t,n,r){t[r]=v(e)});var vi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),bi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ki=Ar,Oi=Ar,xi=Ar;U("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),Q("DDD",jr),Q("DDDD",xr),ee(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),U("H",["HH",2],0,"hour"),U("h",["hh",2],0,gn),U("k",["kk",2],0,_n),U("hmm",0,0,function(){return""+gn.apply(this)+I(this.minutes(),2)}),U("hmmss",0,0,function(){return""+gn.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+I(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)}),vn("a",!0),vn("A",!1),R("hour","h"),Q("a",bn),Q("A",bn),Q("H",Sr),Q("h",Sr),Q("HH",Sr,Or),Q("hh",Sr,Or),Q("hmm",Cr),Q("hmmss",Tr),Q("Hmm",Cr),Q("Hmmss",Tr),ee(["H","HH"],Ir),ee(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ee(["h","hh"],function(e,t,n){t[Ir]=v(e),h(n).bigHour=!0}),ee("hmm",function(e,t,n){var r=e.length-2;t[Ir]=v(e.substr(0,r)),t[Ur]=v(e.substr(r)),h(n).bigHour=!0}),ee("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Ir]=v(e.substr(0,r)),t[Ur]=v(e.substr(r,2)),t[zr]=v(e.substr(i)),h(n).bigHour=!0}),ee("Hmm",function(e,t,n){var r=e.length-2;t[Ir]=v(e.substr(0,r)),t[Ur]=v(e.substr(r))}),ee("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[Ir]=v(e.substr(0,r)),t[Ur]=v(e.substr(r,2)),t[zr]=v(e.substr(i))});var Mi=/[ap]\.?m?\.?/i,Pi=N("Hours",!0);U("m",["mm",2],0,"minute"),R("minute","m"),Q("m",Sr),Q("mm",Sr,Or),ee(["m","mm"],Ur);var Si=N("Minutes",!1);U("s",["ss",2],0,"second"),R("second","s"),Q("s",Sr),Q("ss",Sr,Or),ee(["s","ss"],zr);var Ci=N("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),Q("S",jr,kr),Q("SS",jr,Or),Q("SSS",jr,xr);var Ti;for(Ti="SSSS";Ti.length<=9;Ti+="S")Q(Ti,Lr);for(Ti="S";Ti.length<=9;Ti+="S")ee(Ti,On);var ji=N("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Di=m.prototype;Di.add=pi,Di.calendar=ft,Di.clone=dt,Di.diff=bt,Di.endOf=Et,Di.format=xt,Di.from=Mt,Di.fromNow=Pt,Di.to=St,Di.toNow=Ct,Di.get=G,Di.invalidAt=Bt,Di.isAfter=pt,Di.isBefore=yt,Di.isBetween=mt,Di.isSame=gt,Di.isSameOrAfter=_t,Di.isSameOrBefore=vt,Di.isValid=Ht,Di.lang=mi,Di.locale=Tt,Di.localeData=jt,Di.max=li,Di.min=ui,Di.parsingFlags=Nt,Di.set=G,Di.startOf=Dt,Di.subtract=yi,Di.toArray=Ft,Di.toObject=Rt,Di.toDate=Wt,Di.toISOString=Ot,Di.toJSON=At,Di.toString=kt,Di.unix=Yt,Di.valueOf=Lt,Di.creationData=Vt,Di.year=si,Di.isLeapYear=we,Di.weekYear=It,Di.isoWeekYear=Ut,Di.quarter=Di.quarters=Qt,Di.month=le,Di.daysInMonth=ce,Di.week=Di.weeks=en,Di.isoWeek=Di.isoWeeks=tn,Di.weeksInYear=qt,Di.isoWeeksInYear=zt,Di.date=_i,Di.day=Di.days=ln,Di.weekday=cn,Di.isoWeekday=hn,Di.dayOfYear=mn,Di.hour=Di.hours=Pi,Di.minute=Di.minutes=Si,Di.second=Di.seconds=Ci,Di.millisecond=Di.milliseconds=ji,Di.utcOffset=Ze,Di.utc=Qe,Di.local=Je,Di.parseZone=Ke,Di.hasAlignedHourOffset=Xe,Di.isDST=et,Di.isDSTShifted=tt,Di.isLocal=nt,Di.isUtcOffset=rt,Di.isUtc=it,Di.isUTC=it,Di.zoneAbbr=xn,Di.zoneName=Mn,Di.dates=k("dates accessor is deprecated. Use date instead.",_i),Di.months=k("months accessor is deprecated. Use month instead",le),Di.years=k("years accessor is deprecated. Use year instead",si),Di.zone=k("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",$e);var Ei=Di,Li={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Yi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Wi="Invalid date",Fi="%d",Ri=/\d{1,2}/,Ai={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Hi=C.prototype;Hi._calendar=Li,Hi.calendar=Cn,Hi._longDateFormat=Yi,Hi.longDateFormat=Tn,Hi._invalidDate=Wi,Hi.invalidDate=jn,Hi._ordinal=Fi,Hi.ordinal=Dn,Hi._ordinalParse=Ri,Hi.preparse=En,Hi.postformat=En,Hi._relativeTime=Ai,Hi.relativeTime=Ln,Hi.pastFuture=Yn,Hi.set=P,Hi.months=ie,Hi._months=Jr,Hi.monthsShort=oe,Hi._monthsShort=Kr,Hi.monthsParse=se,Hi._monthsRegex=ei,Hi.monthsRegex=fe,Hi._monthsShortRegex=Xr,Hi.monthsShortRegex=he,Hi.week=Jt,Hi._week=gi,Hi.firstDayOfYear=Xt,Hi.firstDayOfWeek=Kt,Hi.weekdays=rn,Hi._weekdays=vi,Hi.weekdaysMin=an,Hi._weekdaysMin=wi,Hi.weekdaysShort=on,Hi._weekdaysShort=bi,Hi.weekdaysParse=un,Hi._weekdaysRegex=ki,Hi.weekdaysRegex=fn,Hi._weekdaysShortRegex=Oi,Hi.weekdaysShortRegex=dn,Hi._weekdaysMinRegex=xi,Hi.weekdaysMinRegex=pn,Hi.isPM=wn,Hi._meridiemParse=Mi,Hi.meridiem=kn,E("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),n.lang=k("moment.lang is deprecated. Use moment.locale instead.",E),n.langData=k("moment.langData is deprecated. Use moment.localeData instead.",W);var Ni=Math.abs,Bi=Xn("ms"),Vi=Xn("s"),Gi=Xn("m"),Ii=Xn("h"),Ui=Xn("d"),zi=Xn("w"),qi=Xn("M"),Zi=Xn("y"),$i=tr("milliseconds"),Qi=tr("seconds"),Ji=tr("minutes"),Ki=tr("hours"),Xi=tr("days"),eo=tr("months"),to=tr("years"),no=Math.round,ro={s:45,m:45,h:22,d:26,M:11},io=Math.abs,oo=Ve.prototype;oo.abs=Gn,oo.add=Un,oo.subtract=zn,oo.as=Jn,oo.asMilliseconds=Bi,oo.asSeconds=Vi,oo.asMinutes=Gi,oo.asHours=Ii,oo.asDays=Ui,oo.asWeeks=zi,oo.asMonths=qi,oo.asYears=Zi,oo.valueOf=Kn,oo._bubble=Zn,oo.get=er,oo.milliseconds=$i,oo.seconds=Qi,oo.minutes=Ji,oo.hours=Ki,oo.days=Xi,oo.weeks=nr,oo.months=eo,oo.years=to,oo.humanize=ar,oo.toISOString=sr,oo.toString=sr,oo.toJSON=sr,oo.locale=Tt,oo.localeData=jt,oo.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",sr),oo.lang=mi,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Q("x",Yr),Q("X",Rr),ee("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,n){n._d=new Date(v(e))}),n.version="2.13.0",r(Ae),n.fn=Ei,n.min=Ne,n.max=Be,n.now=ci,n.utc=l,n.unix=Pn,n.months=An,n.isDate=o,n.locale=E,n.invalid=d,n.duration=ot,n.isMoment=g,n.weekdays=Nn,n.parseZone=Sn,n.localeData=W,n.isDuration=Ge,n.monthsShort=Hn,n.weekdaysMin=Vn,n.defineLocale=L,n.updateLocale=Y,n.locales=F,n.weekdaysShort=Bn,n.normalizeUnits=A,n.relativeTimeThreshold=or,n.prototype=Ei;var ao=n;return ao})},{}],5:[function(e,t,n){function r(){}var i=t.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],6:[function(e,t,n){(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&o<a;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=w(r,o,4);var a=!C(n)&&b.keys(n),s=(a||n).length,u=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,s)}}function r(e){return function(t,n,r){n=k(n,r);for(var i=S(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}}function i(e,t,n){return function(r,i,o){var a=0,s=S(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(f.call(r,a,s),b.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}}function o(e,t){var n=L.length,r=e.constructor,i=b.isFunction(r)&&r.prototype||l,o="constructor";for(b.has(e,o)&&!b.contains(t,o)&&t.push(o);n--;)o=L[n],o in e&&e[o]!==i[o]&&!b.contains(t,o)&&t.push(o)}var a=this,s=a._,u=Array.prototype,l=Object.prototype,c=Function.prototype,h=u.push,f=u.slice,d=l.toString,p=l.hasOwnProperty,y=Array.isArray,m=Object.keys,g=c.bind,_=Object.create,v=function(){},b=function(e){
return e instanceof b?e:this instanceof b?void(this._wrapped=e):new b(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=b),n._=b):a._=b,b.VERSION="1.8.3";var w=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?b.identity:b.isFunction(e)?w(e,t,n):b.isObject(e)?b.matcher(e):b.property(e)};b.iteratee=function(e,t){return k(e,t,1/0)};var O=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var l=a[u];t&&void 0!==n[l]||(n[l]=o[l])}return n}},x=function(e){if(!b.isObject(e))return{};if(_)return _(e);v.prototype=e;var t=new v;return v.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},P=Math.pow(2,53)-1,S=M("length"),C=function(e){var t=S(e);return"number"==typeof t&&t>=0&&t<=P};b.each=b.forEach=function(e,t,n){t=w(t,n);var r,i;if(C(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=b.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},b.map=b.collect=function(e,t,n){t=k(t,n);for(var r=!C(e)&&b.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},b.reduce=b.foldl=b.inject=e(1),b.reduceRight=b.foldr=e(-1),b.find=b.detect=function(e,t,n){var r;if(r=C(e)?b.findIndex(e,t,n):b.findKey(e,t,n),void 0!==r&&r!==-1)return e[r]},b.filter=b.select=function(e,t,n){var r=[];return t=k(t,n),b.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},b.reject=function(e,t,n){return b.filter(e,b.negate(k(t)),n)},b.every=b.all=function(e,t,n){t=k(t,n);for(var r=!C(e)&&b.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},b.some=b.any=function(e,t,n){t=k(t,n);for(var r=!C(e)&&b.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},b.contains=b.includes=b.include=function(e,t,n,r){return C(e)||(e=b.values(e)),("number"!=typeof n||r)&&(n=0),b.indexOf(e,t,n)>=0},b.invoke=function(e,t){var n=f.call(arguments,2),r=b.isFunction(t);return b.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},b.pluck=function(e,t){return b.map(e,b.property(t))},b.where=function(e,t){return b.filter(e,b.matcher(t))},b.findWhere=function(e,t){return b.find(e,b.matcher(t))},b.max=function(e,t,n){var r,i,o=-(1/0),a=-(1/0);if(null==t&&null!=e){e=C(e)?e:b.values(e);for(var s=0,u=e.length;s<u;s++)r=e[s],r>o&&(o=r)}else t=k(t,n),b.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-(1/0)&&o===-(1/0))&&(o=e,a=i)});return o},b.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=C(e)?e:b.values(e);for(var s=0,u=e.length;s<u;s++)r=e[s],r<o&&(o=r)}else t=k(t,n),b.each(e,function(e,n,r){i=t(e,n,r),(i<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},b.shuffle=function(e){for(var t,n=C(e)?e:b.values(e),r=n.length,i=Array(r),o=0;o<r;o++)t=b.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},b.sample=function(e,t,n){return null==t||n?(C(e)||(e=b.values(e)),e[b.random(e.length-1)]):b.shuffle(e).slice(0,Math.max(0,t))},b.sortBy=function(e,t,n){return t=k(t,n),b.pluck(b.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=k(n,r),b.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};b.groupBy=T(function(e,t,n){b.has(e,n)?e[n].push(t):e[n]=[t]}),b.indexBy=T(function(e,t,n){e[n]=t}),b.countBy=T(function(e,t,n){b.has(e,n)?e[n]++:e[n]=1}),b.toArray=function(e){return e?b.isArray(e)?f.call(e):C(e)?b.map(e,b.identity):b.values(e):[]},b.size=function(e){return null==e?0:C(e)?e.length:b.keys(e).length},b.partition=function(e,t,n){t=k(t,n);var r=[],i=[];return b.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},b.first=b.head=b.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:b.initial(e,e.length-t)},b.initial=function(e,t,n){return f.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},b.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:b.rest(e,Math.max(0,e.length-t))},b.rest=b.tail=b.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},b.compact=function(e){return b.filter(e,b.identity)};var j=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=S(e);a<s;a++){var u=e[a];if(C(u)&&(b.isArray(u)||b.isArguments(u))){t||(u=j(u,t,n));var l=0,c=u.length;for(i.length+=c;l<c;)i[o++]=u[l++]}else n||(i[o++]=u)}return i};b.flatten=function(e,t){return j(e,t,!1)},b.without=function(e){return b.difference(e,f.call(arguments,1))},b.uniq=b.unique=function(e,t,n,r){b.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var i=[],o=[],a=0,s=S(e);a<s;a++){var u=e[a],l=n?n(u,a,e):u;t?(a&&o===l||i.push(u),o=l):n?b.contains(o,l)||(o.push(l),i.push(u)):b.contains(i,u)||i.push(u)}return i},b.union=function(){return b.uniq(j(arguments,!0,!0))},b.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=S(e);r<i;r++){var o=e[r];if(!b.contains(t,o)){for(var a=1;a<n&&b.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},b.difference=function(e){var t=j(arguments,!0,!0,1);return b.filter(e,function(e){return!b.contains(t,e)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(e){for(var t=e&&b.max(e,S).length||0,n=Array(t),r=0;r<t;r++)n[r]=b.pluck(e,r);return n},b.object=function(e,t){for(var n={},r=0,i=S(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var i=n(t),o=0,a=S(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i};var D=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=x(e.prototype),a=e.apply(o,i);return b.isObject(a)?a:o};b.bind=function(e,t){if(g&&e.bind===g)return g.apply(e,f.call(arguments,1));if(!b.isFunction(e))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),r=function(){return D(e,r,t,this,n.concat(f.call(arguments)))};return r},b.partial=function(e){var t=f.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=t[a]===b?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return D(e,n,this,this,o)};return n},b.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n=arguments[t],e[n]=b.bind(e[n],e);return e},b.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return b.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},b.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},b.defer=b.partial(b.delay,b,1),b.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:b.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=b.now();s||n.leading!==!1||(s=l);var c=t-(l-s);return r=this,i=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},b.debounce=function(e,t,n){var r,i,o,a,s,u=function(){var l=b.now()-a;l<t&&l>=0?r=setTimeout(u,t-l):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=b.now();var l=n&&!r;return r||(r=setTimeout(u,t)),l&&(s=e.apply(o,i),o=i=null),s}},b.wrap=function(e,t){return b.partial(t,e)},b.negate=function(e){return function(){return!e.apply(this,arguments)}},b.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},b.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},b.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},b.once=b.partial(b.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(e){if(!b.isObject(e))return[];if(m)return m(e);var t=[];for(var n in e)b.has(e,n)&&t.push(n);return E&&o(e,t),t},b.allKeys=function(e){if(!b.isObject(e))return[];var t=[];for(var n in e)t.push(n);return E&&o(e,t),t},b.values=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},b.mapObject=function(e,t,n){t=k(t,n);for(var r,i=b.keys(e),o=i.length,a={},s=0;s<o;s++)r=i[s],a[r]=t(e[r],r,e);return a},b.pairs=function(e){for(var t=b.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},b.invert=function(e){for(var t={},n=b.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},b.functions=b.methods=function(e){var t=[];for(var n in e)b.isFunction(e[n])&&t.push(n);return t.sort()},b.extend=O(b.allKeys),b.extendOwn=b.assign=O(b.keys),b.findKey=function(e,t,n){t=k(t,n);for(var r,i=b.keys(e),o=0,a=i.length;o<a;o++)if(r=i[o],t(e[r],r,e))return r},b.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;b.isFunction(t)?(i=b.allKeys(a),r=w(t,n)):(i=j(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,u=i.length;s<u;s++){var l=i[s],c=a[l];r(c,l,a)&&(o[l]=c)}return o},b.omit=function(e,t,n){if(b.isFunction(t))t=b.negate(t);else{var r=b.map(j(arguments,!1,!1,1),String);t=function(e,t){return!b.contains(r,t)}}return b.pick(e,t,n)},b.defaults=O(b.allKeys,!0),b.create=function(e,t){var n=x(e);return t&&b.extendOwn(n,t),n},b.clone=function(e){return b.isObject(e)?b.isArray(e)?e.slice():b.extend({},e):e},b.tap=function(e,t){return t(e),e},b.isMatch=function(e,t){var n=b.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var Y=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof b&&(e=e._wrapped),t instanceof b&&(t=t._wrapped);var i=d.call(e);if(i!==d.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!Y(e[u],t[u],n,r))return!1}else{var l,c=b.keys(e);if(u=c.length,b.keys(t).length!==u)return!1;for(;u--;)if(l=c[u],!b.has(t,l)||!Y(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0};b.isEqual=function(e,t){return Y(e,t)},b.isEmpty=function(e){return null==e||(C(e)&&(b.isArray(e)||b.isString(e)||b.isArguments(e))?0===e.length:0===b.keys(e).length)},b.isElement=function(e){return!(!e||1!==e.nodeType)},b.isArray=y||function(e){return"[object Array]"===d.call(e)},b.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){b["is"+e]=function(t){return d.call(t)==="[object "+e+"]"}}),b.isArguments(arguments)||(b.isArguments=function(e){return b.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(e){return"function"==typeof e||!1}),b.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},b.isNaN=function(e){return b.isNumber(e)&&e!==+e},b.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===d.call(e)},b.isNull=function(e){return null===e},b.isUndefined=function(e){return void 0===e},b.has=function(e,t){return null!=e&&p.call(e,t)},b.noConflict=function(){return a._=s,this},b.identity=function(e){return e},b.constant=function(e){return function(){return e}},b.noop=function(){},b.property=M,b.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},b.matcher=b.matches=function(e){return e=b.extendOwn({},e),function(t){return b.isMatch(t,e)}},b.times=function(e,t,n){var r=Array(Math.max(0,e));t=w(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},b.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},b.now=Date.now||function(){return(new Date).getTime()};var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=b.invert(W),R=function(e){var t=function(t){return e[t]},n="(?:"+b.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};b.escape=R(W),b.unescape=R(F),b.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),b.isFunction(r)?r.call(e):r};var A=0;b.uniqueId=function(e){var t=++A+"";return e?e+t:t},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+N[e]};b.template=function(e,t,n){!t&&n&&(t=n),t=b.defaults({},t,b.templateSettings);var r=RegExp([(t.escape||H).source,(t.interpolate||H).source,(t.evaluate||H).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(B,V),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,b)},l=t.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},b.chain=function(e){var t=b(e);return t._chain=!0,t};var G=function(e,t){return e._chain?b(t).chain():t};b.mixin=function(e){b.each(b.functions(e),function(t){var n=b[t]=e[t];b.prototype[t]=function(){var e=[this._wrapped];return h.apply(e,arguments),G(this,n.apply(b,e))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];b.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],G(this,n)}}),b.each(["concat","join","slice"],function(e){var t=u[e];b.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],7:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../core/Type"),l=e("../timeseries/TimeSeriesData"),c=e("../core/TimeGrid"),h=e("../crosshair/Crosshair"),f={width:"auto",intervalWidth:7,paddingRight:40,offset:0,relativeOffset:0,offsetFromEnd:!1,scrollToEndOnLoad:!0,scrollToEndOnResize:!0,verticalGridLineSpacing:50},d=function(e){function t(e,n){r(this,t),n=s.extend({},f,n);var o=i(this,Object.getPrototypeOf(t).call(this,n));return o._el=e,o._components=[],o._data=void 0,s.isNumber(o.width)&&(o._el.style.width=o.width+"px"),o._initCrosshair(),o._listenForDOMEvents(),o._time_grid=new c,o}return o(t,e),a(t,[{key:"_initCrosshair",value:function(){this.crosshair&&(this.crosshair=s.isObject(this.crosshair)?this.crosshair:{},this._crosshair=new h(this,this.crosshair))}},{key:"_refreshCrosshair",value:function(){void 0===this._crosshair?this._initCrosshair():this._crosshair.refresh()}},{key:"_listenForDOMEvents",value:function(){window.addEventListener("resize",this._handleWindowResize.bind(this))}},{key:"_handleWindowResize",value:function(e){"auto"===this.width&&(this._refreshCrosshair(),this.scrollToEndOnResize===!0&&this._setOffset(0,!0),this._refreshCrosshair(),this.draw())}},{key:"getEl",value:function(){return this._el}},{key:"getWidth",value:function(){return"auto"===this.width?this.getEl().clientWidth:this.width}},{key:"getPaddingRight",value:function(){return this.paddingRight}},{key:"getDrawingWidth",value:function(){return this.getWidth()-this.getPaddingRight()}},{key:"getHeight",value:function(){return this._el.offsetHeight}},{key:"setIntervalWidth",value:function(e){this.intervalWidth=e}},{key:"getIntervalWidth",value:function(){return this.intervalWidth}},{key:"getOffset",value:function(){return this.offset}},{key:"getTimeGrid",value:function(){return this._time_grid}},{key:"getComponents",value:function(){return this._components}},{key:"addComponent",value:function(e,t){t.setParentChart(this),t.initLayers&&t.initLayers(),this._components.push(t),t.render(e),this._componentsHaveChanged()}},{key:"removeComponents",value:function(e){e=e||[];for(var t=0;t<this._components.length;t++){for(var n=this._components[t],r=!1,i=0;i<e.length;i++)if(n===e[i]){r=!0;break}r!==!0&&n.destroy()}this._components=e,this._componentsHaveChanged()}},{key:"loadData",value:function(e,t,n,r){this._data=new l(e,this.fieldMap,t,n);for(var i=0;i<this._components.length;i++){var o=this._components[i];o.precompute&&o.precompute(this._data)}void 0!==r&&r!==!0||(this.scrollToEndOnLoad===!0&&this.scroll(0,!0,!1),this.draw())}},{key:"draw",value:function(){if(void 0!==this._data){var e=this._calculateIntervalCapacity(),t=this.getIndexToPixelMapper();this._time_grid.refresh(this._data,e,this.getOffset(),this.getDrawingWidth(),this.verticalGridLineSpacing);for(var n=0;n<this._components.length;n++){var r=this._components[n];r.draw&&r.draw(this._data,e,this.getOffset(),t)}this.emit("afterdraw")}}},{key:"_calculateIntervalCapacity",value:function(){return Math.floor(this.getDrawingWidth()/this.intervalWidth)}},{key:"getIndexToPixelMapper",value:function(){var e=this.getIntervalWidth(),t=this.getOffset(),n=function(n){return(n-t)*e};return n}},{key:"_componentsHaveChanged",value:function(){this._refreshCrosshair()}},{key:"scroll",value:function(e,t,n){this._setOffset(e,t),void 0!==n&&n!==!0||this.draw()}},{key:"_setOffset",value:function(e,t){if(this.relativeOffset=e,this.offsetFromEnd=t,t===!0&&void 0!==this._data){var n=this._data.getRawData().length,r=this._calculateIntervalCapacity();this.offset=n-r-e}else this.offset=e}},{key:"getRelativeScrollOffset",value:function(){return this.relativeOffset}},{key:"isScrollOffsetFromEnd",value:function(){return this.offsetFromEnd}},{key:"isBeyondStart",value:function(){return this.offset<0}}]),t}(u);t.exports=d},{"../core/TimeGrid":10,"../core/Type":11,"../crosshair/Crosshair":12,"../timeseries/TimeSeriesData":40,underscore:6}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../core/Type"),u=e("../core/Region"),l=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.layers=[],n}return o(t,e),a(t,[{key:"destroy",value:function(){var e=this.getEl();e&&e.parentNode&&e.parentNode.removeChild(e),this.el=void 0}},{key:"setParentChart",value:function(e){this._parent_chart=e}},{key:"getParentChart",value:function(){return this._parent_chart}},{key:"getEl",value:function(){return this.el}},{key:"getClassName",value:function(){return"component"}},{key:"getHeight",value:function(){return this.height}},{key:"render",value:function(e){var t=u.getRegionsByName(this.getParentChart().getEl())[e];return this.el=this.createElement(),t.getEl().innerHTML="",t.getEl().appendChild(this.el),this}},{key:"createElement",value:function(){var e=window.document.createElement("DIV");return e.className=this.getClassName(),e.style.height=this.height+"px",e}},{key:"addLayer",value:function(e){e.setParentComponent(this),this.layers.push(e)}},{key:"getAllLayers",value:function(){return this.layers}},{key:"removeLayers",value:function(e){e=e||[],this.layers=e,this._layersHaveChanged()}},{key:"_layersHaveChanged",value:function(){}}]),t}(s);t.exports=l},{"../core/Region":9,"../core/Type":11}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../core/Type"),u=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this,{}));return n.el=e,n.name=n.el.getAttribute("data-name"),n}return o(t,e),a(t,[{key:"getEl",value:function(){return this.el}},{key:"getName",value:function(){return this.name}},{key:"getHeight",value:function(){return this.el.offsetHeight}}],[{key:"getRegionsByName",value:function(e){for(var n={},r=t.getElementsByClassName(e,"region"),i=0;i<r.length;i++){var o=r[i],a=new t(o);n[a.getName()]=a}return n}},{key:"getElementsByClassName",value:function(e,t){function n(e){for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i];o.childNodes.length>0&&n(o),o.getAttribute&&o.getAttribute("class")&&o.getAttribute("class").split(" ").indexOf(t)>=0&&r.push(o)}}var r=[];return n(e),r}}]),t}(s);t.exports=u},{"../core/Type":11}],10:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("moment"),l=e("../core/Type"),c={M1:{ident:"M1",hours:1/60,mins:1},M5:{ident:"M5",hours:1/12,mins:5},M10:{ident:"M10",hours:1/6,mins:10},M15:{ident:"M15",hours:.25,mins:15},M30:{ident:"M30",hours:.5,mins:30},H1:{ident:"H1",hours:1,mins:60},H4:{ident:"H4",hours:4,mins:240},H8:{ident:"H8",hours:8,mins:480},D:{ident:"D",hours:24,mins:1440,days:1},W:{ident:"W",hours:120,mins:7200,days:5,weeks:1},M:{ident:"M",hours:504,mins:30240,days:21,weeks:4,months:1},Q:{ident:"Q",hours:1512,mins:90720,days:63,weeks:13,months:3},Y:{ident:"Y",hours:6e3,mins:36e4,days:250,weeks:51,months:12,years:1}},h={},f=function(e){function t(e){r(this,t),e=s.extend({},h,e);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.lines={},n._pixelToTimeString=function(){return""},n}return o(t,e),a(t,[{key:"refresh",value:function(e,n,r,i,o){this.lines={},this.line_spacing=o;var a=e.getFieldMap(),s=e.getRawData(),u=e.getGranularity(),l=this.granularity;void 0===l&&(l=t.determineTimeGranularity(u,n,i,o));for(var c=r>=0?r+1:1;c<r+n&&c<s.length;c++){var h=s[c],f=s[c-1],d=h[a.time],p=f[a.time],y=t.isGridLine(l,d,p);null!==y&&(this.lines[""+c]=y)}this._pixelToTimeString=this.getPixelToTimeStringMapper(i,n,r,s,u)}},{key:"getPixelToTimeStringMapper",value:function(e,t,n,r,i){var o="ddd D HH:mm";"D"!==i&&"W"!==i||(o="ddd D MMM");var a=function(i){var a=Math.round(i/e*t),s=r[n+a];return s?u(s.time).format(o):""};return a}},{key:"lineAt",value:function(e){return this.lines[""+e]}},{key:"getLineSpacing",value:function(){return this.line_spacing}},{key:"pixelToTimeString",value:function(e){return this._pixelToTimeString(e)}}],[{key:"isGridLine",value:function(e,n,r){var i=c[e],o=new Date(n),a=new Date(r);return i.mins<60&&t.isNMinuteChange(i.mins,o)?{format:t.determineMinFormat(o,a)}:i.hours<24&&t.isNHourChange(i.hours,o)?{format:t.determineHourFormat(o,a)}:void 0!==i.days&&i.days<5&&t.isDayChange(o,a)?{format:t.determineDayFormat(o,a)}:void 0!==i.weeks&&1===i.weeks&&t.isWeekChange(o,a)?{format:t.determineWeekFormat(o,a)}:void 0!==i.months&&1===i.months&&t.isMonthChange(o,a)?{format:t.determineMonthFormat(o,a)}:void 0!==i.months&&i.months<12&&t.isNMonthChange(i.months,o,a)?{format:t.determineQuarterFormat(o,a)}:t.isYearChange(o,a)?{format:t.determineYearFormat(o,a)}:null}},{key:"isNMinuteChange",value:function(e,t){return t.getUTCMinutes()%e===0}},{key:"isHourChange",value:function(e,t){return e.getUTCHours()!==t.getUTCHours()}},{key:"isNHourChange",value:function(e,t){return t.getUTCHours()%e===0&&0===t.getUTCMinutes()}},{key:"isDayChange",value:function(e,t){return e.getUTCDate()!==t.getUTCDate()}},{key:"isWeekChange",value:function(e,t){return u(e).utc().weeks()!==u(t).utc().weeks()}},{key:"isMonthChange",value:function(e,t){return e.getUTCMonth()!==t.getUTCMonth()}},{key:"isNMonthChange",value:function(e,n,r){return n.getUTCMonth()%e===0&&t.isMonthChange(n,r)}},{key:"isYearChange",value:function(e,t){return e.getUTCFullYear()!==t.getUTCFullYear()}},{key:"determineMinFormat",value:function(e,n){return t.isDayChange(e,n)?"ddd D":(t.isHourChange(e,n),"HH:mm")}},{key:"determineHourFormat",value:function(e,n){return t.isDayChange(e,n)?"ddd D":"HH:mm"}},{key:"determineDayFormat",value:function(e,n){return t.isMonthChange(e,n)?"MMM":"D"}},{key:"determineWeekFormat",value:function(e,n){return t.isMonthChange(e,n)?"MMM":"D"}},{key:"determineMonthFormat",value:function(e,n){return t.isYearChange(e,n)?"YYYY":"MMM"}},{key:"determineQuarterFormat",value:function(e,n){return t.isYearChange(e,n)?"YYYY":"MMM"}},{key:"determineYearFormat",value:function(e,t){return"'YY"}},{key:"determineTimeGranularity",value:function(e,t,n,r){var i=n/r,o=t*c[e].mins,a=o/i;for(var s in c)if(c[s].mins>=a)return s;return"Y"}}]),t}(l);t.exports=f},{"../core/Type":11,moment:4,underscore:6}],11:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("events").EventEmitter,l=function(e){function t(e){r(this,t);var n=i(this,Object.getPrototypeOf(t).call(this));return n._config=e,s.extend(n,e),n}return o(t,e),a(t,[{key:"getConfig",value:function(){return this._config}}]),t}(u);t.exports=l},{events:2,underscore:6}],12:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../core/Type"),l=e("../crosshair/CrosshairZone"),c={lineColor:"#000000",labelHeight:16,showTimeLabel:!1,labelFont:"7pt normal normal arial;",labelBgColor:"#000000",labelColor:"#FFFFFF",timeLabelWidth:70},h=function(e){function t(e,n){r(this,t),n=s.extend({},c,n);var o=i(this,Object.getPrototypeOf(t).call(this,n));return o._crosshair_zones={},o._parent_chart=e,o.width=o.getParentChart().getWidth(),o.lineWidth=o.getParentChart().getDrawingWidth(),o.valueLabelWidth=o.width-o.lineWidth,o._render(),o._listenForDOMEvents(),o}return o(t,e),a(t,[{key:"destroy",value:function(){for(var e in this._crosshair_zones)if(this._crosshair_zones.hasOwnProperty(e)){var t=this._crosshair_zones[e].getEl();t&&t.parentNode&&t.parentNode.removeChild(t)}}},{key:"getParentChart",value:function(){return this._parent_chart}},{key:"_render",value:function(){this.destroy();for(var e=this.getParentChart().getComponents(),t=0;t<e.length;t++){var n=new l(this,e[t]);this._crosshair_zones[""+t]=n,n.render(t)}}},{key:"_listenForDOMEvents",value:function(){this.getParentChart().getEl().addEventListener("mousemove",this._handleMousemove.bind(this)),this.getParentChart().getEl().addEventListener("mouseout",this._handleMouseout.bind(this))}},{key:"_handleMousemove",value:function(e){var t=e.target.getAttribute("ch-zone-index"),n=this._crosshair_zones[t];this._draw(e.offsetX,e.offsetY,n,this._crosshair_zones)}},{key:"_handleMouseout",value:function(e){this.clear()}},{key:"refresh",value:function(){this.width=this.getParentChart().getWidth(),this.lineWidth=this.getParentChart().getDrawingWidth(),this.valueLabelWidth=this.width-this.lineWidth,this._render()}},{key:"_draw",value:function(e,t,n,r){if(n)for(var i in r)if(r.hasOwnProperty(i)){var o=r[i].getComponent(),a=r[i].getEl(),s=a.getContext("2d");
if(s.clearRect(0,0,a.width,a.height),s.beginPath(),s.rect(e,0,1,a.height),s.fillStyle=this.lineColor,s.fill(),o.crosshair&&o.crosshair.time&&o.crosshair.time.label){s.beginPath(),s.rect(e,0,this.timeLabelWidth,this.labelHeight),s.fillStyle=this.labelBgColor,s.fill();var u=this.getParentChart().getTimeGrid(),l=u.pixelToTimeString(e);s.font=this.labelFont,s.textAlign="left",s.textBaseline="middle",s.fillStyle=this.labelColor,s.fillText(l,e+4,.5*this.labelHeight)}if(r[i]===n&&(void 0===o.crosshair||o.crosshair.value)){s.beginPath(),s.rect(0,t,this.lineWidth,1),s.fillStyle=this.lineColor,s.fill(),s.beginPath(),s.rect(this.lineWidth,t-.5*this.labelHeight,this.valueLabelWidth,this.labelHeight),s.fillStyle=this.labelBgColor,s.fill();var c=""+o.pixelToValue(t).toFixed(4);s.font=this.labelFont,s.textAlign="left",s.textBaseline="middle",s.fillStyle=this.labelColor,s.fillText(c,this.lineWidth+4,t)}}}},{key:"clear",value:function(){for(var e in this._crosshair_zones)if(this._crosshair_zones.hasOwnProperty(e)){var t=this._crosshair_zones[e].getEl();t&&t.getContext("2d").clearRect(0,0,t.width,t.height)}}}]),t}(u);t.exports=h},{"../core/Type":11,"../crosshair/CrosshairZone":13,underscore:6}],13:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../core/Type"),u=function(e){function t(e,n){r(this,t);var o=i(this,Object.getPrototypeOf(t).call(this,{}));return o._parent_crosshair=e,o._underlying_component=n,o.name="crosshair-"+o._underlying_component.getClassName().replace(/ /g,""),o}return o(t,e),a(t,[{key:"render",value:function(e){var t=this._underlying_component,n=t.getEl(),r=n.parentNode,i=window.document.createElement("CANVAS");return i.className="crosshair "+this.name,i.setAttribute("ch-zone-index",""+e),i.setAttribute("width",t.getWidth()),i.setAttribute("height",t.getHeight()),this._el=i,r.appendChild(i),i}},{key:"getEl",value:function(){return this._el}},{key:"getComponent",value:function(){return this._underlying_component}}]),t}(s);t.exports=u},{"../core/Type":11}],14:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../element/Element"),u=function(e){function t(e,n,o,a,s){r(this,t);var u=i(this,Object.getPrototypeOf(t).call(this,{}));return u.layer=e,u.index=n,u.time=o,u.value=a,u.previous_arc=s,u}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r){if(this.previous_arc){var i=n(this.previous_arc.getIndex()),o=t(this.previous_arc.getValue()),a=n(this.index),s=t(this.value);e.beginPath(),e.moveTo(i,o),e.lineTo(a,s),e.strokeStyle=r.color,e.stroke()}}},{key:"getIndex",value:function(){return this.index}},{key:"getTime",value:function(){return this.time}},{key:"getValue",value:function(){return this.value}}]),t}(s);t.exports=u},{"../element/Element":16}],15:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../element/Element"),u=function(e){function t(e,n,o,a,s,u,l){r(this,t);var c=i(this,Object.getPrototypeOf(t).call(this,{}));return c.layer=e,c.index=n,c.time=o,c.open=a,c.high=s,c.low=u,c.close=l,c}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r){var i,o,a;this.close>=this.open?(i=this.open,o=this.close,a=r.bullBodyColor):(i=this.close,o=this.open,a=r.bearBodyColor);var s=n(this.index),u=r.candleWickWidth,l=t(this.high),c=t(o)-l;e.beginPath(),e.rect(s,l,u,c),e.fillStyle=r.wickColor,e.fill(),l=t(i),c=t(this.low)-l,e.beginPath(),e.rect(s,l,u,c),e.fillStyle=r.wickColor,e.fill();var h=s-Math.ceil(.5*(r.candleBodyWidth-1)),f=t(o),d=r.candleBodyWidth,p=t(i)-f;e.beginPath(),e.rect(h,f,d,p),e.fillStyle=a,e.fill()}},{key:"getIndex",value:function(){return this.index}},{key:"getTime",value:function(){return this.time}},{key:"getOpen",value:function(){return this.open}},{key:"getHigh",value:function(){return this.high}},{key:"getLow",value:function(){return this.low}},{key:"getClose",value:function(){return this.close}}]),t}(s);t.exports=u},{"../element/Element":16}],16:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e("../core/Type"),s=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),t}(a);t.exports=s},{"../core/Type":11}],17:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../element/Element"),u=function(e){function t(e,n,o,a){r(this,t);var s=i(this,Object.getPrototypeOf(t).call(this,{}));return s.layer=e,s.index=n,s.time=o,s.value=a,s}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r){var i=n(this.index)-Math.ceil(.5*(r.barWidth-1)),o=t(this.value),a=r.barWidth,s=t(0)-o;e.beginPath(),e.rect(i,o,a,s),e.fillStyle=r.barColor,e.fill()}},{key:"getIndex",value:function(){return this.index}},{key:"getTime",value:function(){return this.time}},{key:"getValue",value:function(){return this.value}}]),t}(s);t.exports=u},{"../element/Element":16}],18:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../element/Element"),u=function(e){function t(e,n,o,a){r(this,t);var s=i(this,Object.getPrototypeOf(t).call(this,{}));return s.layer=e,s.value=n,s.start=o,s.end=a,s}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r){var i=t(this.value);e.beginPath(),e.moveTo(this.start,i),e.lineTo(this.end,i),e.strokeStyle=r.lineColor,e.stroke()}},{key:"getValue",value:function(){return this.value}},{key:"getStart",value:function(){return this.start}},{key:"getEnd",value:function(){return this.end}}]),t}(s);t.exports=u},{"../element/Element":16}],19:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../element/Element"),u=function(e){function t(e,n,o,a,s,u,l){r(this,t);var c=i(this,Object.getPrototypeOf(t).call(this,{}));return c.layer=e,c.index=n,c.time=o,c.open=a,c.high=s,c.low=u,c.close=l,c}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r){var i;i=this.close>=this.open?r.bullBodyColor:r.bearBodyColor;var o=n(this.index),a=Math.floor(.5*r.candleBodyWidth)||1,s=t(this.high),u=t(this.low)-t(this.high);e.beginPath(),e.rect(o,s,a,u),e.fillStyle=i,e.fill();var l=o-r.candleBodyWidth+1,c=t(this.open),h=r.candleBodyWidth,f=1;e.beginPath(),e.rect(l,c,h,f),e.fillStyle=i,e.fill();var d=o,p=t(this.close),y=r.candleBodyWidth,m=1;e.beginPath(),e.rect(d,p,y,m),e.fillStyle=i,e.fill()}},{key:"getIndex",value:function(){return this.index}},{key:"getTime",value:function(){return this.time}},{key:"getOpen",value:function(){return this.open}},{key:"getHigh",value:function(){return this.high}},{key:"getLow",value:function(){return this.low}},{key:"getClose",value:function(){return this.close}}]),t}(s);t.exports=u},{"../element/Element":16}],20:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("moment"),u=e("../element/Element"),l=function(e){function t(e,n,o,a){r(this,t);var s=i(this,Object.getPrototypeOf(t).call(this,{}));return s.layer=e,s.index=n,s.time=o,s.format=a,s}return o(t,e),a(t,[{key:"draw",value:function(e,n,r){var i=n(this.index);e.font=r.labelFont,e.textAlign="left",e.textBaseline="middle",e.fillStyle=r.labelColor,e.fillText(t.formatTimestamp(this.time,this.format),i,r.labelY)}},{key:"getIndex",value:function(){return this.index}},{key:"getTime",value:function(){return this.time}}],[{key:"formatTimestamp",value:function(e,t){var n=s(e);return n.format(t)}}]),t}(u);t.exports=l},{"../element/Element":16,moment:4}],21:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../element/Element"),u=function(e){function t(e,n,o){r(this,t);var a=i(this,Object.getPrototypeOf(t).call(this,{}));return a.layer=e,a.value=n,a.x=o,a}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r){var i=this.x+r.labelPaddingLeft,o=t(this.value),a=""+this.value;e.font=r.labelFont,e.textBaseline="middle",e.fillStyle=r.labelColor,e.fillText(a,i,o)}},{key:"getValue",value:function(){return this.value}}]),t}(s);t.exports=u},{"../element/Element":16}],22:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("../element/Element"),u=function(e){function t(e,n,o,a){r(this,t);var s=i(this,Object.getPrototypeOf(t).call(this,{}));return s.layer=e,s.index=n,s.start=o,s.end=a,s}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r){var i=n(this.index);e.beginPath(),e.moveTo(i,this.start),e.lineTo(i,this.end),e.strokeStyle=r.lineColor,e.stroke()}},{key:"getIndex",value:function(){return this.index}},{key:"getStart",value:function(){return this.start}},{key:"getEnd",value:function(){return this.end}}]),t}(s);t.exports=u},{"../element/Element":16}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../layer/Layer"),l=e("../element/Candle"),c={bearBodyColor:"red",bullBodyColor:"green",wickColor:"black",candleBodyWidth:5,candleWickWidth:1,minField:"low",maxField:"high"},h=function(e){function t(e){return r(this,t),e=s.extend({},c,e),i(this,Object.getPrototypeOf(t).call(this,e||{}))}return o(t,e),a(t,[{key:"setCandleBodyWidth",value:function(e){this.candleBodyWidth=e}},{key:"getCandleBodyWidth",value:function(){return this.candleBodyWidth}},{key:"setBearBodyColor",value:function(e){this.bearBodyColor=e}},{key:"getBearBodyColor",value:function(){return this.bearBodyColor}},{key:"setBullBodyColor",value:function(e){this.bullBodyColor=e}},{key:"getBullBodyColor",value:function(){return this.bullBodyColor}},{key:"draw",value:function(e,t,n,r,i){var o=this._getContext(),a=e.getFieldMap(),s=e.getRawData();this.elements=[];for(var u=n>=0?n:0;u<n+t&&u<s.length;u++){var c=s[u],h=new l(this,u,c[a.time],c[a.open],c[a.high],c[a.low],c[a.close]);h.draw(o,r,i,this),this.elements.push(h)}}}]),t}(u);t.exports=h},{"../element/Candle":15,"../layer/Layer":24,underscore:6}],24:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../core/Type"),l={},c=function(e){function t(e){r(this,t),e=s.extend({},l,e);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.elements=[],n}return o(t,e),a(t,[{key:"setParentComponent",value:function(e){this._parent_component=e}},{key:"getParentComponent",value:function(){return this._parent_component}},{key:"_getContext",value:function(){return this.getParentComponent().getContext()}},{key:"getWidth",value:function(){return this.getParentComponent().getWidth()}},{key:"getDrawingWidth",value:function(){return this.getParentComponent().getDrawingWidth()}},{key:"getHeight",value:function(){return this.getParentComponent().getHeight()}},{key:"getMinField",value:function(){return this.minField}},{key:"getMaxField",value:function(){return this.maxField}},{key:"getMinValue",value:function(){return this.minValue}},{key:"getMaxValue",value:function(){return this.maxValue}}]),t}(u);t.exports=c},{"../core/Type":11,underscore:6}],25:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../layer/Layer"),l=e("../element/OHLCBar"),c={bearBodyColor:"red",bullBodyColor:"green",wickColor:"black",candleBodyWidth:3,candleWickWidth:1,minField:"low",maxField:"high"},h=function(e){function t(e){return r(this,t),e=s.extend({},c,e),i(this,Object.getPrototypeOf(t).call(this,e||{}))}return o(t,e),a(t,[{key:"setCandleBodyWidth",value:function(e){this.candleBodyWidth=e}},{key:"getCandleBodyWidth",value:function(){return this.candleBodyWidth}},{key:"setBearBodyColor",value:function(e){this.bearBodyColor=e}},{key:"getBearBodyColor",value:function(){return this.bearBodyColor}},{key:"setBullBodyColor",value:function(e){this.bullBodyColor=e}},{key:"getBullBodyColor",value:function(){return this.bullBodyColor}},{key:"draw",value:function(e,t,n,r,i){var o=this._getContext(),a=e.getFieldMap(),s=e.getRawData();this.elements=[];for(var u=n>=0?n:0;u<n+t&&u<s.length;u++){var c=s[u],h=new l(this,u,c[a.time],c[a.open],c[a.high],c[a.low],c[a.close]);h.draw(o,r,i,this),this.elements.push(h)}}}]),t}(u);t.exports=h},{"../element/OHLCBar":19,"../layer/Layer":24,underscore:6}],26:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../layer/Layer"),l=e("../element/VerticalLine"),c={lineColor:"#BBBBBB",showLabels:!0,labelColor:"#555555",labelFont:"7pt normal normal arial;"},h=function(e){function t(e){return r(this,t),e=s.extend({},c,e),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"getLineStart",value:function(){return 0}},{key:"getLineEnd",value:function(){return this.getHeight()}},{key:"draw",value:function(e,t,n,r,i,o){var a=this._getContext(),s=e.getRawData();this.elements=[];for(var u=n>=0?n:0;u<n+t&&u<s.length;u++)if(void 0!==this.timeGrid.lineAt(u)){var c=new l(this,u,this.getLineStart(),this.getLineEnd());this.elements.push(c),c.draw(a,r,i,this)}}}]),t}(u);t.exports=h},{"../element/VerticalLine":22,"../layer/Layer":24,underscore:6}],27:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../layer/Layer"),l=e("../element/TimeLabel"),c={labelColor:"#444444",labelFont:"7pt normal normal arial;",labelY:8},h=function(e){function t(e){return r(this,t),e=s.extend({},c,e),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r,i,o){var a=this._getContext(),s=e.getFieldMap(),u=e.getRawData();this.elements=[];for(var c,h=this.timeGrid.getLineSpacing(),f=[],d=n>=0?n:0;d<n+t&&d<u.length;d++){var p=u[d],y=p[s.time],m=this.timeGrid.lineAt(d);void 0!==m&&(c=new l(this,d,y,m.format),f.push(c))}for(d=0;d<f.length-1;d++){c=f[d];var g=f[d+1],_=i(c.getIndex()),v=i(g.getIndex());v-_>=.6*h&&(c.draw(a,i,this),this.elements.push(c))}}}]),t}(u);t.exports=h},{"../element/TimeLabel":20,"../layer/Layer":24,underscore:6}],28:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../layer/Layer"),l=e("../element/HorizontalLine"),c=e("../element/ValueLabel"),h={lineSpacing:50,lineColor:"#BBBBBB",showLabels:!0,labelColor:"#555555",labelFont:"7pt normal normal arial;",labelPaddingLeft:4},f=function(e){function t(e){return r(this,t),e=s.extend({},h,e),i(this,Object.getPrototypeOf(t).call(this,e||{}))}return o(t,e),a(t,[{key:"getLabelWidth",value:function(){return this.labelWidth}},{key:"getLineStart",value:function(){return 0}},{key:"getLineEnd",value:function(){return this.getWidth()-this.getLabelWidth()}},{key:"draw",value:function(e,n,r,i,o,a){var s=this._getContext();this.elements=[],this.label_elements=[];var u,h,f=a.min,d=a.max;if(void 0===this.lines){u=[];var p=this.granularity;void 0===p&&(p=t.determineValueGranularity(f,d,this.getHeight(),this.lineSpacing));var y=Math.round(1*f/p)/(1/p);h=t.decimalPlaces(p);for(var m=0;y<=d;)y=t.decimalAdjust("round",y,-7),u.push(y),y+=p,m++}else u=this.lines;for(var g=0;g<u.length;g++){var _=u[g],v=new l(this,_,this.getLineStart(),this.getLineEnd());if(this.elements.push(v),v.draw(s,i,o,this),this.showLabels===!0){var b=new c(g,_.toFixed(h||2),this.getLineEnd());this.label_elements.push(b),b.draw(s,i,o,this)}}}}],[{key:"determineValueGranularity",value:function(e,t,n,r){for(var i=t-e,o=n/r,a=i/o,s=1e-5,u=5e-6,l=[2.5,2,2],c=function(e,t){return e*l[t%3]},h=0;;h++){if(s>=a)return u;u=s,s=c(s,h)}return 1e3}},{key:"decimalAdjust",value:function(e,t,n){return"undefined"==typeof n||0===+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!==0?NaN:(t=t.toString().split("e"),t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n))),t=t.toString().split("e"),+(t[0]+"e"+(t[1]?+t[1]+n:n))))}},{key:"decimalPlaces",value:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}}]),t}(u);t.exports=f},{"../element/HorizontalLine":18,"../element/ValueLabel":21,"../layer/Layer":24,underscore:6}],29:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("fast-stats").Stats,l=e("../../layer/Layer"),c=e("../../element/Arc"),h={input:"close",upperBandOutputPrefix:"_bb_upper",midOutputPrefix:"_bb_mid",lowerBandOutputPrefix:"_bb_lower",period:20,multiplier:2,bandColor:"rgba(0, 0, 0, 0.3)",midColor:"rgba(0, 0, 0, 0.3)"},f=function(e){function t(e){r(this,t),e=s.extend({},h,e);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.upperBandOutput=n.upperBandOutputPrefix+""+n.period+"x"+n.multiplier,n.midOutput=n.midOutputPrefix+""+n.period+"x"+n.multiplier,n.lowerBandOutput=n.lowerBandOutputPrefix+""+n.period+"x"+n.multiplier,n.minField=n.lowerBandOutput,n.maxField=n.upperBandOutput,n}return o(t,e),a(t,[{key:"precompute",value:function(e){for(var t=e.getRawData(),n=e.getFieldMap(),r=n[this.input],i=this.upperBandOutput,o=this.midOutput,a=this.lowerBandOutput,s=this.period,l=new u,c=new u,h=0;h<t.length;h++){var f=t[h];if(l.push(f[r]),c.push(f[r]),c.length===s){var d=l.amean(),p=c.stddev();f[i]=d+2*p,f[o]=d,f[a]=d-2*p,isNaN(f[i])&&(f[i]=0),isNaN(f[a])&&(f[a]=0),c.shift(),l.shift()}}}},{key:"draw",value:function(e,t,n,r,i){var o=this._getContext(),a=e.getFieldMap(),s=e.getRawData();this.elements=[],this.elements_upper=[],this.elements_lower=[];for(var u=null,l=null,h=null,f=n>=0?n:0;f<n+t&&f<s.length;f++){var d=s[f],p=new c(this,f,d[a.time],d[this.upperBandOutput],u);this.elements_upper.push(p),p.draw(o,r,i,{color:this.bandColor});var y=new c(this,f,d[a.time],d[this.midOutput],l);this.elements.push(y),y.draw(o,r,i,{color:this.midColor});var m=new c(this,f,d[a.time],d[this.lowerBandOutput],h);this.elements_lower.push(m),m.draw(o,r,i,{color:this.bandColor}),u=p,l=y,h=m}}}]),t}(l);t.exports=f},{"../../element/Arc":14,"../../layer/Layer":24,"fast-stats":3,underscore:6}],30:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../../layer/Layer"),l=e("../../element/Arc"),c={input:"close",outputPrefix:"_sma",period:50,color:"orange"},h=function(e){function t(e){r(this,t),e=s.extend({},c,e);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.output=n.outputPrefix+""+n.period,n.minField=n.output,n.maxField=n.output,n}return o(t,e),a(t,[{key:"precompute",value:function(e){for(var t,n=e.getRawData(),r=e.getFieldMap(),i=this.output,o=r[this.input],a=this.period,s=2/(a+1),u=[],l=0,c=0;c<n.length;c++){var h=n[c];if(t){var f=(h[o]||1)*s+t*(1-s);h[i]=f,t=f}else if(u.length===a){var d=l/a;t=d}else u.push(h[o]||1),l+=h[o]||1}}},{key:"draw",value:function(e,t,n,r,i){var o=this._getContext(),a=e.getFieldMap(),s=e.getRawData();this.elements=[];
for(var u=null,c=n>=0?n:0;c<n+t&&c<s.length;c++){var h=s[c],f=new l(this,c,h[a.time],h[this.output],u);this.elements.push(f),f.draw(o,r,i,this),u=f}}}]),t}(u);t.exports=h},{"../../element/Arc":14,"../../layer/Layer":24,underscore:6}],31:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../../layer/Layer"),l=e("../../element/Arc"),c={input:"close",output:"_rsi",period:14,color:"red",minValue:0,maxValue:100},h=function(e){function t(e){return r(this,t),e=s.extend({},c,e),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"precompute",value:function(e){for(var t,n,r,i=e.getRawData(),o=e.getFieldMap(),a=o[this.input],s=this.output,u=this.period,l=[],c=[],h=[],f=0,d=0,p=1;p<i.length;p++){var y,m=i[p],g=i[p-1],_=m[a]-g[a],v=Math.abs(_),b=0,w=0,k=0,O=0;_>=0?b=v:w=v,l.length<u?(l.push(_),_>=0?(c.push(v),d+=v):(h.push(v),f+=v)):l.length===u?(y=d/f,m[s]=100-100/(1+y),isNaN(m[s])&&(m[s]=0),l.push(_)):(k=(n*(u-1)+b)/u,O=(r*(u-1)+w)/u,y=k/O,m[s]=100-100/(1+y),isNaN(m[s])&&(m[s]=0)),n=k,r=O,t=m[s]}}},{key:"draw",value:function(e,t,n,r,i){var o=this._getContext(),a=e.getFieldMap(),s=e.getRawData();this.elements=[];for(var u=null,c=n>=0?n:0;c<n+t&&c<s.length;c++){var h=s[c],f=new l(this,c,h[a.time],h[this.output],u);this.elements.push(f),f.draw(o,r,i,this),u=f}}}]),t}(u);t.exports=h},{"../../element/Arc":14,"../../layer/Layer":24,underscore:6}],32:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../../layer/Layer"),l=e("../../element/Arc"),c={input:"close",outputPrefix:"_sma",period:50,color:"orange"},h=function(e){function t(e){r(this,t),e=s.extend({},c,e);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n.output=n.outputPrefix+""+n.period,n.minField=n.output,n.maxField=n.output,n}return o(t,e),a(t,[{key:"precompute",value:function(e){for(var t=e.getRawData(),n=e.getFieldMap(),r=this.output,i=n[this.input],o=this.period,a=[],s=0,u=0;u<t.length;u++){var l=t[u];a.push(l[i]),s+=l[i],a.length===o+1&&(s-=a.shift(),l[r]=s/o)}}},{key:"draw",value:function(e,t,n,r,i){var o=this._getContext(),a=e.getFieldMap(),s=e.getRawData();this.elements=[];for(var u=null,c=n>=0?n:0;c<n+t&&c<s.length;c++){var h=s[c],f=new l(this,c,h[a.time],h[this.output],u);this.elements.push(f),f.draw(o,r,i,this),u=f}}}]),t}(u);t.exports=h},{"../../element/Arc":14,"../../layer/Layer":24,underscore:6}],33:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../../layer/Layer"),l=e("../../element/Arc"),c={lowInput:"low",highInput:"high",closeInput:"close",kOutput:"_stoch14_k",dOutput:"_stoch14_d",period:14,kMa:3,dMa:5,kColor:"orange",dColor:"lime",minValue:0,maxValue:100},h=function(e){function t(e){return r(this,t),e=s.extend({},c,e),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"precompute",value:function(e){for(var t,n,r=e.getRawData(),i=e.getFieldMap(),o=this.kOutput,a=this.dOutput,s=i[this.lowInput],u=i[this.highInput],l=i[this.closeInput],c=this.period,h=this.kMa,f=this.dMa,d=[],p=[],y=[],m=0,g=[],_=0,v=0;v<r.length;v++){var b=r[v];if(d.push(b[s]),d.length===c&&(t=Math.min.apply(Math,d),d.shift()),p.push(b[u]),p.length===c&&(n=Math.max.apply(Math,p),p.shift()),void 0!==t&&void 0!==n){var w=(b[l]-t)/(n-t)*100;isNaN(w)&&(w=0),y.push(w),m+=w,y.length===h+1&&(m-=y.shift(),b[o]=m/h),void 0!==b[o]&&(g.push(b[o]),_+=b[o],g.length===f+1&&(_-=g.shift(),b[a]=_/f))}}}},{key:"draw",value:function(e,t,n,r,i){var o=this._getContext(),a=e.getFieldMap(),s=e.getRawData();this.elements=[],this.d_elements=[];for(var u=null,c=null,h=n>=0?n:0;h<n+t&&h<s.length;h++){var f=s[h],d=new l(this,h,f[a.time],f[this.dOutput],c);this.d_elements.push(d),d.draw(o,r,i,{color:this.dColor});var p=new l(this,h,f[a.time],f[this.kOutput],u);this.elements.push(p),p.draw(o,r,i,{color:this.kColor}),u=p,c=d}}}]),t}(u);t.exports=h},{"../../element/Arc":14,"../../layer/Layer":24,underscore:6}],34:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../../layer/Layer"),l=e("../../element/HistogramBar"),c={barColor:"blue",barWidth:3,minValue:0,maxField:"volume"},h=function(e){function t(e){return r(this,t),e=s.extend({},c,e),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"setBarWidth",value:function(e){this.barWidth=e}},{key:"getBarWidth",value:function(){return this.barWidth}},{key:"draw",value:function(e,t,n,r,i){var o=this._getContext(),a=e.getFieldMap(),s=e.getRawData();this.elements=[];for(var u=n>=0?n:0;u<n+t&&u<s.length;u++){var c=s[u],h=new l(this,u,c[a.time],c[a.volume]);h.draw(o,r,i,this),this.elements.push(h)}}}]),t}(u);t.exports=h},{"../../element/HistogramBar":17,"../../layer/Layer":24,underscore:6}],35:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../../layer/Layer"),l={highInput:"high",lowInput:"low",volumeInput:"volume",relativeWidth:.3333,vertexCount:120,color:"rgba(153, 180, 255, 0.7)"},c=function(e){function t(e){return r(this,t),e=s.extend({},l,e),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"draw",value:function(e,t,n,r,i,o){var a=this._getContext(),s=e.getFieldMap(),u=e.getRawData();this.elements=[];for(var l=this.vertexCount,c=o.min,h=o.max,f=h-c,d=this.profileWidth||this.getDrawingWidth()*this.relativeWidth,p=this.getHeight(),y=p/l,m=.5*y,g=[],_=s[this.highInput],v=s[this.lowInput],b=s[this.volumeInput],w=0,k=0;k<l;k++)g[k]=0;for(k=n>=0?n:0;k<n+t&&k<u.length;k++)for(var O=u[k],x=O[_],M=O[v],P=O[b],S=Math.floor((M-c)/f*l),C=Math.floor((x-c)/f*l),T=1/(C-S+1),j=S;j<=C;j++)g[j]+=Math.round(P*T);for(var D=0;D<l;D++)g[D]>w&&(w=g[D]);for(a.fillStyle=this.color,a.beginPath(),a.moveTo(0,p),D=0;D<l;D++){var E=g[D],L=E/w*d,Y=p-(D+1)/l*p*1;a.lineTo(L,Y+m),a.lineTo(L,Y-m)}a.lineTo(0,0),a.closePath(),a.fill()}}]),t}(u);t.exports=c},{"../../layer/Layer":24,underscore:6}],36:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function c(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:c(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=e("../core/Component"),l=function(e){function t(e){return r(this,t),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"getClassName",value:function(){return s(Object.getPrototypeOf(t.prototype),"getClassName",this).call(this)+" panel"}},{key:"getWidth",value:function(){return this.getParentChart().getWidth()}},{key:"getDrawingWidth",value:function(){return this.getParentChart().getDrawingWidth()}}]),t}(u);t.exports=l},{"../core/Component":8}],37:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function d(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:d(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=e("underscore"),l=e("../panel/TimePanel"),c=e("../layer/TimeLabelsLayer"),h={height:16,crosshair:{value:!1,time:{label:!0}}},f=function(e){function t(e){return r(this,t),e=u.extend({},h,e),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"initLayers",value:function(){this.primaryLayer=this.primaryLayer||new c({timeGrid:this.getParentChart().getTimeGrid()}),this.primaryLayer.setParentComponent(this)}},{key:"getClassName",value:function(){return s(Object.getPrototypeOf(t.prototype),"getClassName",this).call(this)+" timelabelspanel"}}]),t}(l);t.exports=f},{"../layer/TimeLabelsLayer":27,"../panel/TimePanel":38,underscore:6}],38:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function d(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:d(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},u=e("underscore"),l=e("../panel/Panel"),c=e("../layer/TimeGridLayer"),h={},f=function(e){function t(e){return r(this,t),e=u.extend({},h,e),i(this,Object.getPrototypeOf(t).call(this,e))}return o(t,e),a(t,[{key:"setPrimaryLayer",value:function(e){this.primaryLayer=e,this.primaryLayer.setParentComponent(this)}},{key:"initLayers",value:function(){this.grid&&(this.time_grid_layer=this.time_grid_layer||new c({timeGrid:this.getParentChart().getTimeGrid()}),this.time_grid_layer.setParentComponent(this)),this.primaryLayer.setParentComponent(this)}},{key:"getClassName",value:function(){return s(Object.getPrototypeOf(t.prototype),"getClassName",this).call(this)+" timepanel"}},{key:"createElement",value:function(){var e=window.document.createElement("CANVAS");return e.className=this.getClassName(),e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight()),e}},{key:"_refresh",value:function(){var e=this.getEl();e.setAttribute("width",this.getWidth()),e.setAttribute("height",this.getHeight())}},{key:"getContext",value:function(){return this.getEl().getContext("2d")}},{key:"precompute",value:function(e){this.primaryLayer.precompute&&this.primaryLayer.precompute(e);for(var t=this.getAllLayers(),n=0;n<t.length;n++){var r=t[n];r.precompute&&r.precompute(e)}}},{key:"draw",value:function(e,t,n,r){var i=this.getAllLayers();this._refresh(),this.grid&&(this.time_grid_layer=this.time_grid_layer||new c({}),this.time_grid_layer.draw(e,t,n,null,r,null));for(var o=0;o<i.length;o++){var a=i[o];a.draw&&a.draw(e,t,n,null,r,null)}this.primaryLayer.draw(e,t,n,null,r,null)}}]),t}(l);t.exports=f},{"../layer/TimeGridLayer":26,"../panel/Panel":36,underscore:6}],39:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function y(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:y(i,t,n)}if("value"in r)return r.value;var o=r.get;if(void 0!==o)return o.call(n)},l=e("underscore"),c=e("../panel/TimePanel"),h=e("../layer/TimeGridLayer"),f=e("../layer/ValueGridLayer"),d={paddingTop:10,paddingBottom:10,primaryAtBack:!1},p=function(e){function t(e){r(this,t),e=l.extend({},d,e);var n=i(this,Object.getPrototypeOf(t).call(this,e));return n._pixelToValue=function(){return 0},n.drawingHeight=Math.round(n.getHeight()-(n.paddingTop+n.paddingBottom)),n}return o(t,e),s(t,[{key:"initLayers",value:function(){if(this.grid){var e;"object"===a(this.grid)&&this.grid.value&&(e=this.grid.value.lines),this.value_grid_layer=this.value_grid_layer||new f({labelWidth:this.getParentChart().getPaddingRight(),lines:e}),this.value_grid_layer.setParentComponent(this),this.time_grid_layer=this.time_grid_layer||new h({timeGrid:this.getParentChart().getTimeGrid()}),this.time_grid_layer.setParentComponent(this)}this.primaryLayer.setParentComponent(this)}},{key:"getClassName",value:function(){return u(Object.getPrototypeOf(t.prototype),"getClassName",this).call(this)+" timevaluepanel"}},{key:"getDrawingHeight",value:function(){return this.drawingHeight}},{key:"draw",value:function(e,t,n,r){var i=e.findValueBounds(t,n,this.getMinAndMaxFields(),this.getMinAndMaxValues()),o=this.getValueToPixelMapper(i,!0);this._pixelToValue=this.getPixelToValueMapper(i,!0);var a=this.getAllLayers();this._refresh(),this.grid&&(this.value_grid_layer&&this.value_grid_layer.draw(e,t,n,o,r,i),this.time_grid_layer&&this.time_grid_layer.draw(e,t,n,o,r,i)),this.primaryAtBack===!0&&this.primaryLayer.draw(e,t,n,o,r,i);for(var s=0;s<a.length;s++){var u=a[s];u.draw&&u.draw(e,t,n,o,r,i)}void 0!==this.primaryAtBack&&this.primaryAtBack===!0||this.primaryLayer.draw(e,t,n,o,r,i)}},{key:"getMinAndMaxFields",value:function(){return{min:this.primaryLayer.getMinField(),max:this.primaryLayer.getMaxField()}}},{key:"getMinAndMaxValues",value:function(){return{min:this.primaryLayer.getMinValue(),max:this.primaryLayer.getMaxValue()}}},{key:"getValueToPixelMapper",value:function(e,t){var n,r=e.min,i=e.max,o=i-r,a=this.getDrawingHeight(),s=this.paddingTop;return n=t===!0?function(e){return a-(e-r)/o*a+s}:function(e){return(e-r)/o*a-s}}},{key:"getPixelToValueMapper",value:function(e,t){var n,r=e.min,i=e.max,o=i-r,a=this.getDrawingHeight(),s=this.paddingTop;return n=t===!0?function(e){return(a-(e-s))/a*o+r}:function(e){return(e+s)/a*o+r}}},{key:"pixelToValue",value:function(e){return this._pixelToValue(e)}}]),t}(c);t.exports=p},{"../layer/TimeGridLayer":26,"../layer/ValueGridLayer":28,"../panel/TimePanel":38,underscore:6}],40:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=e("underscore"),u=e("../core/Type"),l={},c=function(e){function t(e,n,o,a,u){r(this,t),u=s.extend({},l,u);var c=i(this,Object.getPrototypeOf(t).call(this,u));return c._raw_data=e,c._field_map=n,c._symbol=o,c._granularity=a,c._initTimeToIndexMap(),c}return o(t,e),a(t,[{key:"_initTimeToIndexMap",value:function(){this._time_to_index_map={};for(var e=0;e<this._raw_data.length;e++){var t=this._raw_data[e],n=t[this._field_map.time];this._time_to_index_map[n]=e}}},{key:"getRawData",value:function(){return this._raw_data}},{key:"getFieldMap",value:function(){return this._field_map}},{key:"getSymbol",value:function(){return this._symbol}},{key:"getGranularity",value:function(){return this._granularity}},{key:"findValueBounds",value:function(e,t,n,r){var i=this._raw_data,o=t,a=e+t-1;o<0&&(o=0),a>=i.length&&(a=i.length-1);var s,u,l=n.min,c=n.max,h=r.min,f=r.max,d=99999999,p=-99999999;if(void 0!==h)d=h;else if(void 0!==l){var y=this._field_map[l];for(s=o;s<=a;s++){u=i[s];var m=u[y];m<d&&(d=m)}}else d=0;if(void 0!==f)p=f;else if(void 0!==c){var g=this._field_map[c];for(s=o;s<=a;s++){u=i[s];var _=u[g];_>p&&(p=_)}}return{min:d,max:p}}}]),t}(u);t.exports=c},{"../core/Type":11,underscore:6}]},{},[1]);