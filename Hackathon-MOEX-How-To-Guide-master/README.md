# üèÖ–ù–æ–º–∏–Ω–∞—Ü–∏—è ¬´How to guide¬ª - –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞ –∑–∞ 15 –º–∏–Ω—É—Ç —Å –Ω—É–ª—è
## –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ Hackathon-MOEX-How-To-Guide

```
–ü–µ—Ä–µ–¥ –ø—Ä–æ—á—Ç–µ–Ω–∏–µ–º —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ ‚Äî –í–ê–ñ–ù–û —Å–ª–µ–¥—É—é—â–µ–µ: –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å 
–∫–∞–∫ –ø—Ä–æ—Å—Ç–æ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Ç–æ—Ä–≥–æ–≤–∞—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –∞–∫—Ü–∏—è–º–∏ –∏–ª–∏ –∑–∞—Ä—É–±–µ–∂–Ω—ã–º–∏ –∞–∫—Ü–∏—è–º–∏. 
–í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞—è –±–æ—Ç–∞, –≤—ã –ª–∏—á–Ω–æ –Ω–µ—Å–µ—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã–µ –∏–º —Ä–µ—à–µ–Ω–∏—è, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ 
–æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –Ω–∏–º–∏ —Ä–∏—Å–∫–∏. –Ø –Ω–µ –Ω–µ—Å—É –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–Ω—è—Ç—å –ø–æ—Å–ª–µ 
–ø—Ä–æ—á—Ç–µ–Ω–∏—è —ç—Ç–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –ò —è –Ω–µ –¥–∞—é –Ω–∏–∫–∞–∫–∏—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –∏–ª–∏ —Å–æ–≤–µ—Ç–æ–≤. 
–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ, —á—Ç–æ –±–æ—Ç—ã —Å–ø–æ—Å–æ–±–Ω—ã –ø—Ä–∏–Ω–µ—Å—Ç–∏ –±–æ–ª—å—à–∏–µ —É–±—ã—Ç–∫–∏, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.

–ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞ –≤ —Ä–∞–º–∫–∞—Ö —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è –•–∞–∫–∞—Ç–æ–Ω [GO ALGO] –æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä–æ–º –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã—Å—Ç—É–ø–∞–µ—Ç –±–∏—Ä–∂–∞ MOEX.
```

## –í—ã–±–æ—Ä –±—Ä–æ–∫–µ—Ä–∞ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫
–ö–∞–∫ –≤—ã –∑–Ω–∞–µ—Ç–µ, –±—Ä–æ–∫–µ—Ä–æ–≤ –º–Ω–æ–≥–æ))) –Ω–æ –Ω–∞–º –Ω—É–∂–Ω—ã —Ç–µ, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å API ‚Äî –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—à —Ç–æ—Ä–≥–æ–≤—ã–π —Ä–æ–±–æ—Ç —Å–º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É –∏ –ø—Ä–æ–¥–∞–∂—É –∞–∫—Ü–∏–π.

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –±—É–¥–µ–º —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –†–æ—Å—Å–∏–π—Å–∫–∏—Ö –±—Ä–æ–∫–µ—Ä–æ–≤ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –†–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –∞–∫—Ü–∏—è–º–∏, –µ—Å–ª–∏ –≤—ã –∑–∞—Ö–æ—Ç–∏—Ç–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–º–∏ –∞–∫—Ü–∏—è–º–∏ ‚Äî —Ç–æ —ç—Ç–æ —Ç–æ–∂–µ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ –Ω–∏—Ö –∂–µ ‚Äî —á–µ—Ä–µ–∑ –°–ü–ë –±–∏—Ä–∂—É. (–∫–æ–¥ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞ –Ω–µ –ø–æ–º–µ–Ω—è–µ—Ç—Å—è ‚Äî –ø–æ–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–∏–∫–µ—Ä–∞ ‚Äî —Ç–æ—Ä–≥–æ–≤–æ–π –±—É–º–∞–≥–∏, –∫–æ—Ç–æ—Ä–æ–π –≤—ã –±—É–¥–µ—Ç–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å).

–ß—Ç–æ–±—ã –≤–∞—Å –¥–æ–ª–≥–æ –Ω–µ –º—É—á–∞—Ç—å —Å –≤—ã–±–æ—Ä–æ–º —Ö–æ—Ä–æ—à–µ–≥–æ –±—Ä–æ–∫–µ—Ä–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞, —è –ø—Ä–∏–≤–µ–¥—É –º–æ–∏ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª–∏—Å—å –ø–æ—Å–ª–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ –ø–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—é —Ç–æ—Ä–≥–æ–≤—ã—Ö –±–æ—Ç–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤ live —Ä–µ–∂–∏–º–µ ‚Äî –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å —Ç–æ—Ä–≥—É—é—â–∏—Ö —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –∞–∫—Ü–∏—è–º–∏.

![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list01.jpg)
—Å–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫ –∑–∞ —Å–µ–≥–æ–¥–Ω—è, —Ç–∞–π–º—Ñ—Ä–µ–π–º H1

–ù—É–∂–Ω—ã–π –∏ –≤–∞–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞ ‚Äî —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –Ω–∞ –∏—Å—Ç–æ—Ä–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ—Å—Ç—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É [Backtrader](https://github.com/WISEPLAT/backtrader ).

–ò—Ç–∞–∫ –ø—Ä–∏—Å—Ç—É–ø–∏–º! )))

**1–π –≤–∞—Ä–∏–∞–Ω—Ç** ‚Äî –µ—Å–ª–∏ –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ —Ö–æ—á–µ—Ç—Å—è –∏–º–µ—Ç—å —Ä–æ–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –ª—é–±–æ–≥–æ –±—Ä–æ–∫–µ—Ä–∞ ‚Äî —Ç–æ –µ—Å—Ç—å –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É [QuikPy](https://github.com/cia76/QuikPy ) –≤ —Å–≤—è–∑–∫–µ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π [BackTraderQuik](https://github.com/cia76/BackTraderQuik ) ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∏—Ö –¥–≤—É—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –ø–æ–∑–≤–æ–ª–∏—Ç –≤–∞—à–µ–º—É —Ç–æ—Ä–≥–æ–≤–æ–º—É —Ä–æ–±–æ—Ç—É —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ª—é–±—ã–º –±—Ä–æ–∫–µ—Ä–æ–º, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤–∞–º —Ç–æ—Ä–≥–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª **Quik**. –ê —ç—Ç–æ—Ç —Ç–æ—Ä–≥–æ–≤—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –µ—Å—Ç—å —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –±—Ä–æ–∫–µ—Ä–æ–≤.

–ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –ø–æ —ç—Ç–æ–π —Å–≤—è–∑–∫–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≤–∞—Å –≤—ã–ª–æ–∂–∏–ª [–≤–æ—Ç –∑–¥–µ—Å—å](https://github.com/WISEPLAT/Learn-BackTrader ).

**2–π –≤–∞—Ä–∏–∞–Ω—Ç** ‚Äî –æ–Ω –Ω–µ–º–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –≤ –≤—ã–±–æ—Ä–µ –±—Ä–æ–∫–µ—Ä–æ–≤, –Ω–æ –¥–∞—ë—Ç –ø—Ä–µ–∫—Ä–∞—Å–Ω—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—â–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ API –±—Ä–æ–∫–µ—Ä–æ–≤, –∏ –æ–Ω–∏!!! –∑–∞–º–µ—Ç—å—Ç–µ –±—ã—Å—Ç—Ä–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø—Ä–∞–≤–ª—è—é—Ç –∫–æ—Å—è–∫–∏) –∏ –¥–æ–±–∞–≤–ª—è—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ‚Äî —ç—Ç–æ –±–æ–ª—å—à–æ–π –ø–ª—é—Å!

–î–ª—è –±—Ä–æ–∫–µ—Ä–∞ –§–∏–Ω–∞–º ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [FinamPy](https://github.com/cia76/FinamPy ) + [BackTraderFinam](https://github.com/cia76/BackTraderFinam )

–î–ª—è –±—Ä–æ–∫–µ—Ä–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [TinkoffPy](https://github.com/cia76/TinkoffPy ) + [BackTraderTinkoff](https://github.com/cia76/BackTraderTinkoff )
* –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤ –∫–æ–¥–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª –≤ –∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ ‚Äî [–ø—Ä–∏–º–µ—Ä —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏](https://github.com/Tinkoff/invest-python/blob/main/examples/wiseplat_live_strategy_print_ohlcv.py ) –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ API –¢–∏–Ω—å–∫–æ—Ñ—Ñ

–î–ª—è –±—Ä–æ–∫–µ—Ä–∞ –ê–ª–æ—Ä ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [AlorPy](https://github.com/cia76/AlorPy ) –∏ [BackTraderAlor](https://github.com/cia76/BackTraderAlor )

–û–§–§–¢–û–ü–ò–ö: –ï—Å–ª–∏ –∫–æ–º—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫—Ä–∏–ø—Ç–æ–±–∏—Ä–∂–µ ‚Äî —Ç–æ —è –Ω–∞–ø–∏—Å–∞–ª —Å–≤–æ—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É [backtrader_binance](https://github.com/WISEPLAT/backtrader_binance ), –æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ, —Ç. –µ. –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤, –≤–æ—Ç –ø—Ä–æ [–Ω–µ–µ —Å—Ç–∞—Ç—å—è](https://habr.com/ru/articles/729036/ ).

–ò—Ç–∞–∫, –≤—ã–±–∏—Ä–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±—Ä–æ–∫–µ—Ä–∞ ‚Äî –ê–ª–æ—Ä. ))

## –ü—Ä–∏—Å—Ç—É–ø–∞–µ–º –∫ –Ω–∞–ø–∏—Å–∞–Ω–∏—é —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –±–æ—Ç–∞


–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é [Python 3.12.1](https://www.python.org/downloads/ );

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ä–µ–¥—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ [PyCharm Community 2023.1](https://www.jetbrains.com/pycharm/download/#section=windows );

–ó–∞–ø—É—Å–∫–∞–µ–º PyCharm Community;

–í –Ω—ë–º —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç, –¥–∞–≤–∞–π—Ç–µ –µ–≥–æ –Ω–∞–∑–æ–≤—ë–º **trade_robot_moex** –∏ —É–∫–∞–∂–µ–º —á—Ç–æ —Å–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Virtualenv => –Ω–∞–∂–∏–º–∞–µ–º ¬´Create¬ª;
![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list02.jpg)
 
–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–º–æ–∂–µ—Ç –±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –±–∏—Ä–∂–∏ MOEX, –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É:
```shell
git clone https://github.com/WISEPLAT/backtrader_moexalgo
```
–æ–Ω–∞ —Å–æ–∑–¥–∞–µ—Ç –∫–æ–ø–∏—é **backtrader_moexalgo** –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ

![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list03.jpg)

–∫–æ–ø–∏—Ä—É–µ–º —É–∂–µ –≥–æ—Ç–æ–≤—ã–π —Ñ–∞–π–ª **01 - Live Trade - broker Alor.py** —Å –ø—Ä–∏–º–µ—Ä–æ–º —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞ –≤ –∫–æ—Ä–µ–Ω—å –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list04.jpg)

—Ç–µ–ø–µ—Ä—å –∫–ª–æ–Ω–∏—Ä—É–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```shell
git clone https://github.com/cia76/AlorPy
```

```shell
git clone https://github.com/cia76/BackTraderAlor
```

–æ–Ω–∏ –Ω—É–∂–Ω—ã, –¥–ª—è live —Ç–æ—Ä–≥–æ–≤–ª–∏, –¥–µ–ª–∞—é—Ç —Å–≤—è–∑–∫—É –º–µ–∂–¥—É API –±—Ä–æ–∫–µ—Ä–∞ –∏ Backtrader

–¢–µ–ø–µ—Ä—å –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list05.jpg)

–ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

```shell
py -m ensurepip --upgrade
```


```shell
pip install numpy pandas backtrader moexalgo requests websockets
```

–¢–µ–ø–µ—Ä—å –º–µ–Ω—è–µ–º –ø—É—Ç—å –∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ backtrader_moexalgo (—Å—Ç—Ä–æ–∫–∞ 8)

![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list06.jpg)

–°–æ–∑–¥–∞–µ–º –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–∞–ø–∫—É **my_config** –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ñ–∞–π–ª **Config_Alor.py** –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±—Ä–æ–∫–µ—Ä—É –ê–ª–æ—Ä —á–µ—Ä–µ–∑ API.

–≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ —Ä—ã–Ω–æ–∫ –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–∫—É–ø–∫—É –∏ –ø—Ä–æ–¥–∞–∂—É –∞–∫—Ü–∏–π.

–ì–¥–µ –≤–∑—è—Ç—å –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π, –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –Ω–∏–∂–µ:

![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list07.jpg)

–¢–µ–ø–µ—Ä—å –º—ã –≥–æ—Ç–æ–≤—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–∞—à–µ–≥–æ –ø–µ—Ä–≤–æ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞ –≤ –∂–∏–∑–Ω—å! –í live —Ä–µ–∂–∏–º–µ –æ–Ω –±—É–¥–µ—Ç –ø–æ–∫—É–ø–∞—Ç—å –∏ –ø—Ä–æ–¥–∞–≤–∞—Ç—å –∞–∫—Ü–∏–∏!

## –ó–∞–ø—É—Å–∫–∞–µ–º!

![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list08.jpg)

–ù–∞ –∫–∞—Ä—Ç–∏–Ω–∫–µ –≤—ã—à–µ 1 - —ç—Ç–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å MOEX, –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏—Ö –ø—Ä–∏–µ–º–∞, –º—ã –ø–µ—Ä–µ—Ö–æ–¥–∏–º –≤ Live —Ä–µ–∂–∏–º - 2.

**–û–±—É—á–∞—é—â–µ–µ –≤–∏–¥–µ–æ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π backtrader_moexalgo –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å [–Ω–∞ YouTube](https://youtu.be/SmcQF2jPxsQ ) –∏ [–Ω–∞ RuTube](https://rutube.ru/video/private/ba9e19f36c98d45ac9caf5b399dda6ca/?p=2T_4kwuwMz9aQAY3kFxYfQ )**


## –¢–æ—Ä–≥–æ–≤—ã–π —Ä–æ–±–æ—Ç —Å–æ–∑–¥–∞–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä—ã–Ω–∫–µ))

–í–æ—Ç –≤—ã—Å—Ç–∞–≤–∏–ª–∞—Å—å –∑–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É.

![alt text](https://raw.githubusercontent.com/WISEPLAT/imgs_for_repos/master/list09.jpg)

–í–µ—Å—å –∫–æ–¥ —Ö–æ—Ä–æ—à–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –ø–æ—ç—Ç–æ–º—É –≤—Å—ë —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—á–µ–≤–∏–¥–Ω—ã–º, –∫–æ–≥–¥–∞ –Ω–∞ –Ω–µ–≥–æ –ø–æ—Å–º–æ—Ç—Ä–∏—à—å –ø–æ–±–ª–∏–∂–µ:

```python
# git clone https://github.com/cia76/AlorPy
# git clone https://github.com/cia76/BackTraderAlor
# py -m ensurepip --upgrade
# pip install numpy pandas backtrader moexalgo requests websockets

import datetime as dt
import backtrader as bt
from backtrader_moexalgo.backtrader_moexalgo.moexalgo_store import MoexAlgoStore  # –•—Ä–∞–Ω–∏–ª–∏—â–µ AlgoPack

# –ø—Ä–∏–º–µ—Ä live —Ç–æ—Ä–≥–æ–≤–ª–∏ –¥–ª—è –ê–ª–æ—Ä
from BackTraderAlor.ALStore import ALStore  # –•—Ä–∞–Ω–∏–ª–∏—â–µ Alor
from AlorPy import AlorPy  # –†–∞–±–æ—Ç–∞ —Å Alor OpenAPI V2
from my_config.Config_Alor import Config  # –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Alor


# –¢–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
class RSIStrategy(bt.Strategy):
    """
    –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è live —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ - –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ –ø–æ–∫—É–ø–∞–µ–º –ø–æ —Ä—ã–Ω–∫—É 1 –ª–æ—Ç –∏ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ –ø—Ä–æ–¥–∞–µ–º –µ–≥–æ –ø–æ —Ä—ã–Ω–∫—É —á–µ—Ä–µ–∑ 3 –±–∞—Ä–∞
    """
    params = (  # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
        ('timeframe', ''),
        ('live_prefix', ''),  # –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫ –≤ live
        ('info_tickers', []),  # –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Ç–∏–∫–µ—Ä–∞–º
    )

    def __init__(self):
        """–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–∫–µ—Ä–∞"""
        self.orders = {}  # –û—Ä–≥–∞–Ω–∏–∑–æ–≤—ã–≤–∞–µ–º –∑–∞—è–≤–∫–∏ –≤ –≤–∏–¥–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞, –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ–¥–∏–Ω —Ç–∏–∫–µ—Ä - –æ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞—è –∑–∞—è–≤–∫–∞
        for d in self.datas:  # –ü—Ä–æ–±–µ–≥–∞–µ–º—Å—è –ø–æ –≤—Å–µ–º —Ç–∏–∫–µ—Ä–∞–º
            self.orders[d._name] = None  # –ó–∞—è–≤–∫–∏ –ø–æ —Ç–∏–∫–µ—Ä—É –ø–æ–∫–∞ –Ω–µ—Ç

        # —Å–æ–∑–¥–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–∫–µ—Ä–∞
        self.sma1 = {}
        self.sma2 = {}
        self.rsi = {}
        for i in range(len(self.datas)):
            ticker = list(self.dnames.keys())[i]    # key name is ticker name
            self.sma1[ticker] = bt.indicators.SMA(self.datas[i], period=8)  # SMA indicator
            self.sma2[ticker] = bt.indicators.SMA(self.datas[i], period=16)  # SMA indicator
            self.rsi[ticker] = bt.indicators.RSI(self.datas[i], period=14)  # RSI indicator

        self.buy_once = {}
        self.sell_once = {}

    def start(self):
        for d in self.datas:  # Running through all the tickers
            self.buy_once[d._name] = False
            self.sell_once[d._name] = False

    def next(self):
        """–ü—Ä–∏—Ö–æ–¥ –Ω–æ–≤–æ–≥–æ –±–∞—Ä–∞ —Ç–∏–∫–µ—Ä–∞"""
        for data in self.datas:  # –ü—Ä–æ–±–µ–≥–∞–µ–º—Å—è –ø–æ –≤—Å–µ–º –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–º –±–∞—Ä–∞–º –≤—Å–µ—Ö —Ç–∏–∫–µ—Ä–æ–≤
            ticker = data._name
            status = data._state  # 0 - Live data, 1 - History data, 2 - None
            _interval = self.p.timeframe
            _date = bt.num2date(data.datetime[0])

            try:
                if data.p.supercandles[ticker][data.p.metric_name]:
                    print("\tSuper Candle:", data.p.supercandles[ticker][data.p.metric_name][0])
                    _data = data.p.supercandles[ticker][data.p.metric_name][0]
                    _data['datetime'] = _date
                    self.supercandles[ticker][data.p.metric_name].append(_data)
            except:
                pass

            if status in [0, 1]:
                if status: _state = "False - History data"
                else: _state = "True - Live data"

                print('{} / {} [{}] - Open: {}, High: {}, Low: {}, Close: {}, Volume: {} - Live: {}'.format(
                    bt.num2date(data.datetime[0]),
                    data._name,
                    _interval,  # —Ç–∞–π–º—Ñ—Ä–µ–π–º —Ç–∏–∫–µ—Ä–∞
                    data.open[0],
                    data.high[0],
                    data.low[0],
                    data.close[0],
                    data.volume[0],
                    _state,
                ))
                print(f'\t - {ticker} RSI : {self.rsi[ticker][0]}')

                if status != 0: continue  # –µ—Å–ª–∏ –Ω–µ live - —Ç–æ –Ω–µ –≤—Ö–æ–¥–∏–º –≤ –ø–æ–∑–∏—Ü–∏—é!

                print(f"\t - Free balance: {self.broker.getcash()}")

                order = self.orders[data._name]  # –ó–∞—è–≤–∫–∞ —Ç–∏–∫–µ—Ä–∞
                if order and order.status == bt.Order.Submitted:  # –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –Ω–µ –Ω–∞ –±–∏—Ä–∂–µ (–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –±—Ä–æ–∫–µ—Ä—É)
                    return  # —Ç–æ –∂–¥–µ–º –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞—è–≤–∫–∏ –Ω–∞ –±–∏—Ä–∂–µ, –≤—ã—Ö–æ–¥–∏–º, –¥–∞–ª—å—à–µ –Ω–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
                if not self.getposition(data):  # –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏–∏ –Ω–µ—Ç
                    # if order and order.status == bt.Order.Accepted:  # –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –Ω–∞ –±–∏—Ä–∂–µ (–ø—Ä–∏–Ω—è—Ç–∞ –±—Ä–æ–∫–µ—Ä–æ–º)
                    #     print(f"\t - –°–Ω–∏–º–∞–µ–º –∑–∞—è–≤–∫—É –Ω–∞ –ø–æ–∫—É–ø–∫—É {data._name}")
                    #     self.cancel(order)  # —Ç–æ —Å–Ω–∏–º–∞–µ–º –µ–µ

                    if not self.buy_once[ticker]:  # Enter long
                        free_money = self.broker.getcash()
                        print(f" - free_money: {free_money}")

                        lot = self.p.info_tickers[ticker]['securities']['LOTSIZE']
                        size = 1 * lot  # –∫—É–ø–∏–º 1 –ª–æ—Ç - –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥–µ–Ω–µ–≥ –Ω–µ –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å, —Å—á–∏—Ç–∞–µ–º —á—Ç–æ –æ–Ω–∏ –µ—Å—Ç—å)
                        price = self.format_price(ticker, data.close[0] * 0.995)  # buy at close price -0.005% - to prevent buy
                        # price = 273.65

                        print(f" - buy {ticker} size = {size} at price = {price}")
                        self.orders[data._name] = self.buy(data=data, exectype=bt.Order.Limit, price=price, size=size)
                        print(f"\t - –í—ã—Å—Ç–∞–≤–ª–µ–Ω–∞ –∑–∞—è–≤–∫–∞ {self.orders[data._name]} –Ω–∞ –ø–æ–∫—É–ø–∫—É {data._name}")

                        self.buy_once[ticker] = len(self)  # –¥–ª—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–π –ø–æ–∫—É–ø–∫–∏ + –∑–∞–ø–∏—Å—ã–≤–∞–µ–º –Ω–æ–º–µ—Ä –±–∞—Ä–∞

                else:  # –ï—Å–ª–∏ –µ—Å—Ç—å –ø–æ–∑–∏—Ü–∏—è
                    print(self.sell_once[ticker], self.buy_once[ticker], len(self), len(self) > self.buy_once[ticker] + 3)
                    if not self.sell_once[ticker]:  # –µ—Å–ª–∏ –º—ã –µ—â–µ –Ω–µ –ø—Ä–æ–¥–∞—ë–º
                        if self.buy_once[ticker] and len(self) > self.buy_once[ticker] + 3:  # –µ—Å–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å –ø–æ–∑–∏—Ü–∏—è –Ω–∞ 3-–º –±–∞—Ä–µ –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏
                            print("sell")
                            print(f"\t - –ü—Ä–æ–¥–∞—ë–º –ø–æ —Ä—ã–Ω–∫—É {data._name}...")
                            self.orders[data._name] = self.close()  # –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –ø–æ —Ä—ã–Ω–∫—É

                            self.sell_once[ticker] = True  # –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—Ä–æ–¥–∞–∂–∏

    def notify_order(self, order):
        """–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏"""
        order_data_name = order.data._name  # –ò–º—è —Ç–∏–∫–µ—Ä–∞ –∏–∑ –∑–∞—è–≤–∫–∏
        print("*"*50)
        self.log(f'–ó–∞—è–≤–∫–∞ –Ω–æ–º–µ—Ä {order.ref} {order.info["order_number"]} {order.getstatusname()} {"–ü–æ–∫—É–ø–∫–∞" if order.isbuy() else "–ü—Ä–æ–¥–∞–∂–∞"} {order_data_name} {order.size} @ {order.price}')
        if order.status == bt.Order.Completed:  # –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏—Å–ø–æ–ª–Ω–µ–Ω–∞
            if order.isbuy():  # –ó–∞—è–≤–∫–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É
                self.log(f'–ü–æ–∫—É–ø–∫–∞ {order_data_name} –¶–µ–Ω–∞: {order.executed.price:.2f}, –û–±—ä—ë–º: {order.executed.value:.2f}, –ö–æ–º–∏—Å—Å–∏—è: {order.executed.comm:.2f}')
            else:  # –ó–∞—è–≤–∫–∞ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É
                self.log(f'–ü—Ä–æ–¥–∞–∂–∞ {order_data_name} –¶–µ–Ω–∞: {order.executed.price:.2f}, –û–±—ä—ë–º: {order.executed.value:.2f}, –ö–æ–º–∏—Å—Å–∏—è: {order.executed.comm:.2f}')
                self.orders[order_data_name] = None  # –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∑–∞—è–≤–∫—É –Ω–∞ –≤—Ö–æ–¥ –≤ –ø–æ–∑–∏—Ü–∏—é
        print("*" * 50)

    def notify_trade(self, trade):
        """–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–∑–∏—Ü–∏–∏"""
        if trade.isclosed:  # –ï—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∞
            self.log(f'–ü—Ä–∏–±—ã–ª—å –ø–æ –∑–∞–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ {trade.getdataname()} –û–±—â–∞—è={trade.pnl:.2f}, –ë–µ–∑ –∫–æ–º–∏—Å—Å–∏–∏={trade.pnlcomm:.2f}')

    def log(self, txt, dt=None):
        """–í—ã–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ —Å –¥–∞—Ç–æ–π –Ω–∞ –∫–æ–Ω—Å–æ–ª—å"""
        dt = bt.num2date(self.datas[0].datetime[0]) if not dt else dt  # –ó–∞–¥–∞–Ω–Ω–∞—è –¥–∞—Ç–∞ –∏–ª–∏ –¥–∞—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ –±–∞—Ä–∞
        print(f'{dt.strftime("%d.%m.%Y %H:%M")}, {txt}')  # –í—ã–≤–æ–¥–∏–º –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è —Å –∑–∞–¥–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º –Ω–∞ –∫–æ–Ω—Å–æ–ª—å

    def format_price(self, ticker, price):
        """
        –§—É–Ω–∫—Ü–∏—è –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è –¥–æ —à–∞–≥–∞ —Ü–µ–Ω—ã step, —Å–æ—Ö—Ä–∞–Ω—è—è signs –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π
        print(round_custom_f(0.022636, 0.000005, 6)) --> 0.022635
        """
        step = self.p.info_tickers[ticker]['securities']['MINSTEP']  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –®–∞–≥ —Ü–µ–Ω—ã
        signs = self.p.info_tickers[ticker]['securities']['DECIMALS']  # —Å–æ—Ö—Ä–∞–Ω—è–µ–º –ö–æ–ª-–≤–æ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤

        val = round(price / step) * step
        return float(("{0:." + str(signs) + "f}").format(val))


def get_some_info_for_tickers(tickers, live_prefix):
    """–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —Ç–∏–∫–µ—Ä–∞–º"""
    info = {}
    for ticker in tickers:
        i = store.get_symbol_info(ticker)
        info[f"{live_prefix}{ticker}"] = i
    return info


if __name__ == '__main__':

    # –±—Ä–æ–∫–µ—Ä –§–∏–Ω–∞–º[FinamPy]: git clone https://github.com/cia76/FinamPy
    # –±—Ä–æ–∫–µ—Ä –ê–ª–æ—Ä[AlorPy]: git clone https://github.com/cia76/AlorPy
    # –±—Ä–æ–∫–µ—Ä –¢–∏–Ω—å–∫–æ—Ñ—Ñ[TinkoffPy]: git clone https://github.com/cia76/TinkoffPy
    # –õ–Æ–ë–û–ô –±—Ä–æ–∫–µ—Ä —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª Quik[QuikPy]: git clone https://github.com/cia76/QuikPy

    # –ø—Ä–∏–º–µ—Ä –¥–ª—è –ê–ª–æ—Ä–∞
    exchange = 'MOEX'  # –ë–∏—Ä–∂–∞
    portfolio = Config.PortfolioStocks  # –ü–æ—Ä—Ç—Ñ–µ–ª—å —Ñ–æ–Ω–¥–æ–≤–æ–≥–æ —Ä—ã–Ω–∫–∞
    apProvider = AlorPy(Config.UserName, Config.RefreshToken)  # –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Ç–æ—Ä–≥–æ–≤–æ–º—É —Å—á–µ—Ç—É. –õ–æ–≥–∏–Ω –∏ Refresh Token –±–µ—Ä—É—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞ Config.py
    live_prefix = 'MOEX.'  # –ø—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–æ–∫ –≤ live
    store_alor = ALStore(providers=[dict(provider_name='alor_trade', username=Config.UserName, demo=False, refresh_token=Config.RefreshToken)])  # –•—Ä–∞–Ω–∏–ª–∏—â–µ Alor - –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Ç–æ—Ä–≥–æ–≤–æ–º—É —Å—á–µ—Ç—É. –õ–æ–≥–∏–Ω –∏ Refresh Token –±–µ—Ä—É—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞ Config.py
    # - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±—Ä–æ–∫–µ—Ä—É —Å –Ω–∞—à–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –±–∏—Ä–∂–µ
    broker = store_alor.getbroker(use_positions=False, boards=Config.Boards, accounts=Config.Accounts)  # –ë—Ä–æ–∫–µ—Ä Alor

    symbol = 'SBER'  # –¢–∏–∫–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ <–ö–æ–¥ —Ç–∏–∫–µ—Ä–∞>
    # symbol2 = 'LKOH'  # –¢–∏–∫–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ <–ö–æ–¥ —Ç–∏–∫–µ—Ä–∞>
    store = MoexAlgoStore()  # –•—Ä–∞–Ω–∏–ª–∏—â–µ AlgoPack
    cerebro = bt.Cerebro(quicknotify=True)  # –ò–Ω–∏—Ü–∏–∏—Ä—É–µ–º "–¥–≤–∏–∂–æ–∫" BackTrader

    # live –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±—Ä–æ–∫–µ—Ä—É - –¥–ª—è Offline –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–∏ –¥–≤–µ —Å—Ç—Ä–æ–∫–∏
    cerebro.setbroker(broker)  # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º live –±—Ä–æ–∫–µ—Ä–∞

    # ----------------------------------------------------
    # –í–Ω–∏–º–∞–Ω–∏–µ! - –¢–µ–ø–µ—Ä—å —ç—Ç–æ Live —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ #
    # ----------------------------------------------------

    info_tickers = get_some_info_for_tickers([symbol, ], live_prefix)  # –±–µ—Ä–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–∫–µ—Ä–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–≥ —Ü–µ–Ω—ã, –∫–æ–ª-–≤–æ –∑–Ω–∞–∫–æ–≤ –ø–æ—Å–ª–µ –∑–∞–ø—è—Ç–æ–π)

    # live 1-–º–∏–Ω—É—Ç–Ω—ã–µ –±–∞—Ä—ã / —Ç–∞–π–º—Ñ—Ä–µ–π–º M1
    timeframe = "M1"
    fromdate = dt.datetime.utcnow()
    data = store.getdata(timeframe=bt.TimeFrame.Minutes, compression=1, dataname=symbol, fromdate=fromdate,
                         live_bars=True, name=f"{live_prefix}{symbol}")  # –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–¥–µ—Å—å True - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å live –±–∞—Ä—ã # name - –Ω—É–∂–µ–Ω –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –≤ live –∑–∞—è–≤–æ–∫
    # data2 = store.getdata(timeframe=bt.TimeFrame.Minutes, compression=1, dataname=symbol2, fromdate=fromdate, live_bars=True)  # –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–¥–µ—Å—å True - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å live –±–∞—Ä—ã

    cerebro.adddata(data)  # –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ
    # cerebro.adddata(data2)  # –î–æ–±–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ

    cerebro.addstrategy(RSIStrategy, timeframe=timeframe, live_prefix=live_prefix, info_tickers=info_tickers)  # –î–æ–±–∞–≤–ª—è–µ–º —Ç–æ—Ä–≥–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

    cerebro.run()  # –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
    # cerebro.plot()  # –†–∏—Å—É–µ–º –≥—Ä–∞—Ñ–∏–∫ - –≤ live —Ä–µ–∂–∏–º–µ –Ω–µ –Ω—É–∂–Ω–æ

```

–í—Å—è —Ç–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –∞ —Ç–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –º–µ—Ç–æ–¥–µ **next**.

–ü–æ–ª—É—á–∞–µ—Ç—Å—è –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ. 

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ—è–≤–∏–ª—Å—è –∫–æ–¥ –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –º–µ–Ω—è—Ç—å –ø–æ–¥ —Å–≤–æ–∏ —É—Å–ª–æ–≤–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π.

## –í–∞–∂–Ω–æ
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫, –¥–æ—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –∫–æ–¥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–æ–º –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º!

**–ü—É—à—å—Ç–µ –≤–∞—à–∏ –∫–æ–º–º–∏—Ç—ã!** 

## –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∫–æ–¥ –≤—ã–ª–æ–∂–µ–Ω–Ω—ã–π –ø–æ –∞–¥—Ä–µ—Å—É https://github.com/WISEPLAT/Hackathon-MOEX-How-To-Guide –≤ —Å–µ—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Ç–æ—Ä–≥–æ–≤—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –ø–æ –∞–∫—Ü–∏—è–º –Ω–∞ —Ñ–æ–Ω–¥–æ–≤–æ–º —Ä—ã–Ω–∫–µ - —ç—Ç–æ **–ü—Ä–æ–≥—Ä–∞–º–º–∞** —Å–æ–∑–¥–∞–Ω–Ω–∞—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —Ä–∞–±–æ—Ç—ã –∏ –∏–∑—É—á–µ–Ω–∏—è –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ - –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å —Å–≤–æ–µ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Ä–æ–±–æ—Ç–∞.
–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ **–ü—Ä–æ–≥—Ä–∞–º–º—ã** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—è–∑–∞–Ω —Å–æ–±–ª—é–¥–∞—Ç—å –ø–æ–ª–æ–∂–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –†–æ—Å—Å–∏–π—Å–∫–æ–π –§–µ–¥–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Å–≤–æ–µ–π —Å—Ç—Ä–∞–Ω—ã.
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **–ü—Ä–æ–≥—Ä–∞–º–º—ã** –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø—É ¬´–ö–∞–∫ –µ—Å—Ç—å¬ª (¬´AS IS¬ª). –ù–∏–∫–∞–∫–∏—Ö –≥–∞—Ä–∞–Ω—Ç–∏–π, –∫–∞–∫ —É—Å—Ç–Ω—ã—Ö, —Ç–∞–∫ –∏ –ø–∏—Å—å–º–µ–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–∏–ª–∞–≥–∞–µ—Ç—Å—è –∏ –Ω–µ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è.
–ê–≤—Ç–æ—Ä –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –Ω–µ –¥–∞–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏, —á—Ç–æ –≤—Å–µ –æ—à–∏–±–∫–∏ **–ü—Ä–æ–≥—Ä–∞–º–º—ã** –±—ã–ª–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ –∞–≤—Ç–æ—Ä –∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –Ω–µ –Ω–µ—Å–µ—Ç –Ω–∏–∫–∞–∫–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞
–ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **–ü—Ä–æ–≥—Ä–∞–º–º—ã**, –≤–∫–ª—é—á–∞—è, –Ω–æ, –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è—Å—å –ª—é–±—ã–º —É—â–µ—Ä–±–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é, –∫–æ–º–ø—å—é—Ç–µ—Ä–∞–º, –º–æ–±–∏–ª—å–Ω—ã–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º, 
–ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–º—É –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—é –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤—ã–∑–≤–∞–Ω–Ω—ã–º –∏–ª–∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–ü—Ä–æ–≥—Ä–∞–º–º—ã**, –∞ —Ç–∞–∫–∂–µ –∑–∞ –ª—é–±—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Ç–µ—Ä–∏,
–ø–æ–Ω–µ—Å–µ–Ω–Ω—ã–µ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **–ü—Ä–æ–≥—Ä–∞–º–º—ã**.
–ù–∏–∫—Ç–æ –Ω–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–µ–Ω –∑–∞ –ø–æ—Ç–µ—Ä—é –¥–∞–Ω–Ω—ã—Ö, —É–±—ã—Ç–∫–∏, —É—â–µ—Ä–±, –≤–∫–ª—é—á–∞—é —Å–ª—É—á–∞–π–Ω—ã–π –∏–ª–∏ –∫–æ—Å–≤–µ–Ω–Ω—ã–π, —É–ø—É—â–µ–Ω–Ω—É—é –≤—ã–≥–æ–¥—É, –ø–æ—Ç–µ—Ä—é –¥–æ—Ö–æ–¥–æ–≤ –∏–ª–∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ –ø–æ—Ç–µ—Ä–∏,
—Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–ü—Ä–æ–≥—Ä–∞–º–º—ã**.

**–ü—Ä–æ–≥—Ä–∞–º–º–∞** —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ —É—Å–ª–æ–≤–∏—è—Ö –ª–∏—Ü–µ–Ω–∑–∏–∏ [MIT](https://choosealicense.com/licenses/mit).

==========================================================================
