### АЛГОРИТМ

#### Краткое описание:
1) Предсказание тренда выбранного инструмента используя нейронные сети
2) На основании предсказанных трендов определение точки входа в рынок (логн или шорт)
3) Определение stop loss и take profit
4) Рефит модели на новых данных, перерасчет stop loss и take profit

#### Развернутое описание:
1) Предсказание тренда выбранного инструмента используя нейронные сети:
* выгрузка данных из Алгопак за период 15 месяцев с таймфремом 1 день
* обработка данных, срез для теста
* фичигенерация для обучения моделей
* обучение моделей и замер качества на валидации
* контрольное тестирование на тестовой выборке

2) На основании предсказанных трендов определение точки входа в рынок (логн или шорт):
* если тренд растущий открытие длинной позиции. При условии роста цены в течении периода открытие позиции и определение максимума цены на тренде, где фиксируется прибыль. Например купили по 100, прогнозируемый максимальный рост 150, то продаем по 140, прибыль 40
* если тренд падающий открытие короткой позиции. При условии падения цены в течении периода открытие позиции и определение минимума цены на тренде, где фиксируем прибыль. Например продали по 100, прогнозируемое падение 50, то продаем по 60, прибыль 40.
* если при движении роста нет стабильного тренда на ближайшие 3 месяца рекомендация - не открывать позиции

3) Определение stop loss и take profit:
* stop loss рассчитывается падение цены на 10% от общего капитала, при движении цены ниже, чем при потере 10% от капитала, то закрытие позиции с убытком и ожидание обновления предсказания с учетом коррекции. Например капитал 100 000 руб. Купили по 100, при падении цены ниже 90, закрываем падение с 10% убытком.
* take profit фиксация прибыли в несколько ступеней первая на 50% общего движений цены, вторая фиксация 25% на 75% движения цены и оставшиеся 25%. Например купили по 100, цена для закрытия позиции в прибыли 140, то 50% продаем при росте до 120 и 25% при цене 130 и вторые 25% при цене 140.

4) Рефит модели на новых данных перерасчет stop loss и take profit:
* Переобучение модели на новых поступающих данных в дневном таймфрейме и предоставление новых рекомендаций. Т.е. 1 день от начала  выборки отнимаем, и новую неделю к концу выборки прибавляем.
* Перерасчет пункта 3 на новых данных. Если тренд сохранится то остановка алгоритма, если меняется то используется новая рекомендация.

#### Представление рекомендаций:

Инвестору представляем следующую информацию по выбранному инструменту:
* Текущая цена.
* Определенный тренд (падение, рост, неопределенный тренд).
* Цену минимума при шорте и цену максимума при логн.
* Расчет прибыли при срабатывании стратегии.
* Расчет результата при срабатывании до 50% и потом закрытии по стоп лоссу.
* Расчет результата при срабатывании до 75% и потом закрытии по стоп лоссу.
* Расчет результата при стоп лоссе без фиксировании любой части прибыли
